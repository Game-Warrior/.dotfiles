(()=>{"use strict";var e,t={133:()=>{},183:(e,t,o)=>{var n=o(351),i=o(467),s=o(577),a=o(915),r=o(812);let l;function u(e){let t=parseInt(s.Z.getValue("zoom_login_req_option_tabid"));if(!isNaN(t))if(1===e){s.Z.removeValue("zoom_login_req_option_tabid");let o=parseInt(s.Z.getValue("zoom_popup_tabpage_tabid"));s.Z.removeValue("zoom_popup_tabpage_tabid"),chrome.tabs.remove(o,(function(){chrome.runtime.lastError}));let n=s.Z.getValue("zoom_login_req_need_reload");chrome.tabs.update(t,{active:!0},(function(o){if(!chrome.runtime.lastError)if(n)chrome.tabs.reload(t);else{let o={type:"authenticationSigninResult",state:e};chrome.tabs.sendMessage(t,o)}})),s.Z.removeValue("zoom_login_req_need_reload")}else{let e=parseInt(s.Z.getValue("zoom_popup_tabpage_tabid"));chrome.tabs.update(e,{active:!0},(function(e){chrome.runtime.lastError||alert(a.errors[6])}))}}function p(e,t,o){l&&l.postMessage({error:!0,errorMsg:e,syncState:t,noReviveSchedule:!!o})}chrome.runtime.onMessage.addListener((function(e,t,o){let i=e;"loadAppConfig"==e.type?o({type:"postAppConfig",info:a}):"passLoginSession"==i.type&&n.Z._ssologin(i.info.url,"","",(function(){chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(s.Z.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(s.Z.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),s.Z.saveZoomSSOValidDate(new Date),s.Z.saveValue("zoom_auth_type",2),u(1)}),(function(e){chrome.tabs.query({},(function(e){e.length>1?chrome.tabs.remove(parseInt(s.Z.getValue("zoom_oauth_tabid")),(function(){chrome.runtime.lastError})):chrome.tabs.update(parseInt(s.Z.getValue("zoom_oauth_tabid")),{url:"about:blank"},(function(){chrome.runtime.lastError}))})),u(2)}))})),chrome.extension.onMessage.addListener((function(e,t,o){var i,a,l,u=s.Z.getZoomData(),p=!1;if(u&&(u.assistants&&(i=u.assistants),u.forcelogin&&(a=u.forcelogin),u.trackfields&&(l=u.trackfields),u.scheduleDefaultLockOption&&(p="true"===u.scheduleDefaultLockOption.usePMISchedule_locked)),"getZoomToken"==e.type){let e=s.Z.getZoomZakRequestToken();if(e){let{inputManualPwd:t,voidable:r}=n.Z.checkNeedPasswordForPopup(),c=!!s.Z.getValue("zoom_config_fixed_popup");if(!c){let{pwEnable:e,wrEnable:t,authEnable:o,updateAuthOptionItem:i}=n.Z.getSecurityResult();!s.Z.getSecurity().security3c1||e||t||o||(c=!0)}o({baseurl:s.Z.getUserBaseUrl(),token:e,fte:s.Z.getValue("zoom_config_fte"),showSetting:c,inputManualPwd:t,pwdVoidable:r,showDomainInput:a&&a.domain_login,hasAssistants:i&&i.length>0,requireTracking:l&&l.length>0,schedulePmiLock:p,trackfields:l,zoom_config_pmi_saved_pwd:n.Z.getPmiSavedPwd(),zoom_config_pmi:Boolean(s.Z.getValue("zoom_config_pmi")),meetingPwdSettingsMap:n.Z.getMeetingPwdSettingsMap(),iSFreeAccount:u&&u.iSFreeAccount,embedPasscode:u&&u.embedPasscode})}else n.Z.popupLogin()}else if("getMeetingTrashUrl"==e.type){n.Z.checkSyncFoVersionOrTime();let e=s.Z.getZoomData();if(e&&e.meetingTrashUrl){let t=e.meetingTrashUrl;"string"===r.type(t)&&"/"===t[0]&&(t=t.slice(1)),o({meetingTrashUrl:s.Z.getUserBaseUrl()+t})}else o("")}else"getReadyToSchedule"==e.type&&o({readyToSchedule:n.Z.getReadyToSchedule()})})),chrome.extension.onMessage.addListener((function(e,t,o){var i,a=!1,r=!1,l=s.Z.getZoomData();if(l&&l.audiopac&&(i=l.audiopac),i&&i.option_pac_enable&&(a=!0),l&&l.option_freeuser&&(r=!!l.option_freeuser&&s.Z.hasZoomRqToken()),"supportPAC"==e.type)o({hasPac:a});else if("quickschedule"==e.type)if(s.Z.hasZoomRqToken()){var u=!!s.Z.getValue("zoom_config_pmi"),{pwEnable:c,wrEnable:f,authEnable:d,updateAuthOptionItem:g}=n.Z.getSecurityResult();let t=s.Z.getSecurity();if(t.security3c1&&!c&&!f&&!d)return void o({resetpwd:!0});if(c&&u){let i=n.Z.getPmiSavedPwd();if(!i&&!f&&t.security3c1)return void o({resetpwd:!0});e.info.securityRes={pwd:i}}n.Z._scheduleMeeting(!1,e.info,(function(e){o(e)}),(function(e){o(e),e.syncState&&p(e.errorMessage,e.syncState,e.noReviveSchedule)}))}else o({errorCode:201});else"newPerm"==e.type?chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})})):"validateAltHost"==e.type?s.Z.hasZoomRqToken()?n.Z.validAlternateHost(e.althosts,(function(e){o(e)}),(function(e){o(e)})):n.Z.popupLogin():"checkUserType"==e.type?o({freeUser:r}):"checkShowFree40MinsTip"==e.type?o({showFree40MinsTip:l&&l.showFree40MinsTip}):"isNoMeetingLicenseUser"==e.type&&o({noLicenseUser:l&&l.no_meeting_license_user})})),chrome.runtime.onConnect.addListener((function(e){l&&l.sender.tab.url.indexOf("calendar")>-1&&chrome.tabs.sendMessage(l.sender.tab.id,{type:"disConnect"}),console.assert("Zoom"==e.name),l=e;function t(t){n.Z.scheduleMeeting(t,(function(t){s.Z.saveValue("zoom_config_fte",!1),e.postMessage({type:"schedule",meeting:t.result})}),(function(e){if(201==e.errorCode)p("login###again");else{p(e.errorMessage||a.errors[5],e.syncState,e.noReviveSchedule)}}))}e.onMessage.addListener((function(o){var r;if("schedule"==o.type)s.Z.hasZoomRqToken()?t(o.info):n.Z.popupLogin();else if("schedulepac"==o.type){s.Z.hasZoomRqToken()?n.Z.schedulePACMeeting(o.info,(function(t){e.postMessage({type:"schedule",meeting:t.result})}),(function(e){201==e.errorCode?p("login###again"):p(a.errors[5])})):n.Z.popupLogin()}else if("update"==o.type){s.Z.hasZoomRqToken()&&(r=o.info,n.Z.editMeeting(r,(function(e){}),(function(t){let o=s.Z.getZoomData();o&&o.hideError4SpecialUser||e.postMessage({type:"editFailed",errorMsg:t.errorMessage})})))}else if("delete"==o.type){s.Z.hasZoomRqToken()&&n.Z.deleteMeeting(o.info,(function(t){e.postMessage({type:"delSuccess",meeting:t.result})}),(function(e){}))}else if("icon_delete"==o.type){s.Z.hasZoomRqToken()?n.Z.deleteMeeting(o.info,(function(t){e.postMessage({type:"iconDeleteSuccess",meeting:t.result})}),(function(t){e.postMessage({type:"iconDeleteFailed",showMsg:t.showMsg})})):n.Z.popupLogin()}else if("deleteonly"==o.type){s.Z.hasZoomRqToken()&&n.Z.deleteMeeting(o.info,(function(e){}),(function(e){}))}else if("loadZoomOptions"==o.type)e.postMessage({type:"updateZmOptions",zmOpt:n.Z.getZoomSetting()});else if("saveOptionsAndSchedule"==o.type)if(s.Z.hasZoomRqToken()){let e=o.info.securityRes;delete o.info.securityRes;let i=o.info.allowDenyRes;delete o.info.allowDenyRes;let a=o.info.templateRes;delete o.info.templateRes;let r=o.info.enable_alternative_host_edit_poll;delete o.info.enable_alternative_host_edit_poll;let l=o.info.focusModeValue;delete o.info.focusModeValue;let u=o.info.record_id;delete o.info.record_id,n.Z.updateZoomSetting(o.info,(function(){s.Z.updateSecurity(e),s.Z.updateAllowDeny(i),s.Z.updateAllowAlternativeHostEditPoll(r),s.Z.updateFocusMode(l),s.Z.updateAutoRec(u),o.info.securityRes=e,o.info.allowDenyRes=i,o.info.templateRes=a,o.info.enable_alternative_host_edit_poll=r,o.info.focusModeValue=l,o.info.record_id=u,t(o.info)}),(function(){p("login###again")}))}else n.Z.popupLogin();else if("saveOptionsAndQuickSchedule"==o.type)if(s.Z.hasZoomRqToken())if(o.info.changepwd){let e=s.Z.getSecurity(),n=o.info.securityRes.pwd;n&&""!=n&&(e.pmi.passcode.value=n,s.Z.setSecurity(e)),t(o.info)}else n.Z.updateSettingForQucik(o.info,(function(){t(o.info)}));else n.Z.popupLogin();else if("sendLog"==o.type)s.Z.hasZoomRqToken()&&i.Z.sendLog(o.info,(function(){}));else if("sync"==o.type)n.Z.toSync();else if("saveNewCalendarEvent"==o.type)n.Z.createMeetingMp(o.info,(function(){}),(function(){}));else if("removeCalendarEvent"==o.type)i.Z.sendLog({msgType:3,msg:{info:"zm-observer trigger to delete.",baseid:o.info.event_baseid},operaType:1}),n.Z.removeMeetingMp(o.info,(function(t){t.result&&0!=t.result&&e.postMessage({type:"deleteMeetingToast"})}),(function(){}));else if("updateTimeAndTimezone"==o.type)n.Z.updateMeetingTimeAndTimezone(o.info,(function(){}),(function(t){3161==t.errorCode&&e.postMessage({type:"updateTimeAndTimezoneFailed",errorMsg:t.errorMessage})}));else if("saveInvitee"==o.type)n.Z.saveInvitee(o.info,(function(){}),(function(){}));else if("getCalendarEvent"==o.type)n.Z.getMeetingMp(o.info,(function(){}),(function(){}));else if("signWithGoogleEvent"==o.type)n.Z.signWithGoogle();else if("workemailSigninEvent"==o.type)n.Z.workemailSignin(o.info,(function(t){e.postMessage({type:"workemailSigninResult",info:t})}));else if("ssoSigninEvent"==o.type)n.Z.ssoSignin(o.info,(function(t){e.postMessage({type:"ssoSigninResult",info:t})}));else if("saveStorageData"==o.type){let e=o.key,t=o.val;s.Z.saveValue(e,t)}else if("loadAppConfig"==o.type)e.postMessage({type:"postAppConfig",info:a});else if("callPopupLogin"==o.type)n.Z.popupLogin();else if("remoteCheckPwd"==o.type)o.info.pwd&&n.Z.remoteCheckPassword(o.info.pwd).done((function(t){201==t.errorCode?n.Z.popupLogin(!0):e.postMessage({type:"remoteCheckPwdResult",exception:!1,info:{res:t.status,msg:t.errorMessage,errortype:1,channel:o.info.channel}})})).fail((function(){e.postMessage({type:"remoteCheckPwdResult",exception:!0,info:{channel:o.info.channel}})}));else if("viewTemplateDetail"==o.type){let e=o.info.templateId;if(e){let t=n.Z.getAdminTemplateDetailUrl(e);chrome.tabs.create({url:t})}}}))})),chrome.runtime.onMessageExternal.addListener((function(e,t,o){return e&&e.message&&"version"==e.message&&o({version:1}),!0}))}},o={};function n(e){var i=o[e];if(void 0!==i)return i.exports;var s=o[e]={exports:{}};return t[e].call(s.exports,s,s.exports,n),s.exports}n.m=t,e=[],n.O=(t,o,i,s)=>{if(!o){var a=1/0;for(p=0;p<e.length;p++){for(var[o,i,s]=e[p],r=!0,l=0;l<o.length;l++)(!1&s||a>=s)&&Object.keys(n.O).every((e=>n.O[e](o[l])))?o.splice(l--,1):(r=!1,s<a&&(a=s));if(r){e.splice(p--,1);var u=i();void 0!==u&&(t=u)}}return t}s=s||0;for(var p=e.length;p>0&&e[p-1][2]>s;p--)e[p]=e[p-1];e[p]=[o,i,s]},n.d=(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},n.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.j=352,(()=>{var e={352:0};n.O.j=t=>0===e[t];var t=(t,o)=>{var i,s,[a,r,l]=o,u=0;if(a.some((t=>0!==e[t]))){for(i in r)n.o(r,i)&&(n.m[i]=r[i]);if(l)var p=l(n)}for(t&&t(o);u<a.length;u++)s=a[u],n.o(e,s)&&e[s]&&e[s][0](),e[a[u]]=0;return n.O(p)},o=self.webpackChunkextension=self.webpackChunkextension||[];o.forEach(t.bind(null,0)),o.push=t.bind(null,o.push.bind(o))})();var i=n.O(void 0,[647,493],(()=>n(183)));i=n.O(i)})();
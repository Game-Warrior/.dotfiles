import { w, A } from '../chunks/util-90dfed3e.js';

function s(e){const t=document.head||document.documentElement,s=document.createElement("script");s.type="module",s.src=chrome.runtime.getURL(e),t.prepend(s);}s("content/closeInfoPopup.js"),s("content/autoBlock.js"),chrome.storage.sync.get((s=>{const n={...A,...s};window.addEventListener("message",(e=>{var s;switch(null===(s=e.data)||void 0===s?void 0:s.noftRequest){case"settings":window.postMessage({noftSettingsResponse:n});break;case"whitelist":n.whitelistedUsers.find((t=>t.id===e.data.data.id))||w("whitelistedUsers",e.data.data);break;case"doAction":n.actionQueue.find((t=>t.id===e.data.data.id&&!t.doneAt))||w("actionQueue",e.data.data);}})),chrome.storage.onChanged.addListener((async(e,t)=>{if("sync"===t){for(const[t,{newValue:s}]of Object.entries(e))n[t]=s;window.postMessage({noftSettingsResponse:n});}}));}));

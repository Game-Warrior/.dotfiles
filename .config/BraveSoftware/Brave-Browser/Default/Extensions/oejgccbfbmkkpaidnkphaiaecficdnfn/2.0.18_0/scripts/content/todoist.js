!function(t){var e={};function n(o){if(e[o])return e[o].exports;var r=e[o]={i:o,l:!1,exports:{}};return t[o].call(r.exports,r,r.exports,n),r.l=!0,r.exports}n.m=t,n.c=e,n.d=function(t,e,o){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:o})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var o=Object.create(null);if(n.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(o,r,function(e){return t[e]}.bind(null,r));return o},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=588)}({588:function(t,e,n){"use strict";const o=document.getElementById("content");function r(t){let e="";const n=$(".project_item__name",t.parentNode.parentNode);return n?e=n.textContent.trim():$(".task_list_item__project",t.parentNode.parentNode)&&(e=$(".task_list_item__project",t).textContent.trim()),e}togglbutton.render("[data-item-detail-root]:not(.toggl)",{observe:!0},t=>{const e=t.querySelector("[data-item-actions-root]");if(e&&e.children.length)return;const n=t.closest("[role=dialog]"),o=togglbutton.createTimerLink({className:"todoist-detail",description:()=>t.dataset.itemContent||"",projectName:()=>t.dataset.itemProjectName||"",buttonType:"minimal",tags:()=>Array.from(n.querySelectorAll("[data-item-label-name]")).map(t=>t.dataset.itemLabelName).filter(Boolean)}),r=document.createElement("div");r.style.display="flex",r.style.alignItems="center",r.style.justifyContent="center",r.style.width="32px",r.appendChild(o);n.querySelector("header").firstChild.lastChild.firstChild.prepend(r)}),togglbutton.render("[data-item-detail-root] [data-item-actions-root]:not(.toggl)",{observe:!0},t=>{const e=t.closest(".item_overview_main"),n=togglbutton.createTimerLink({className:"todoist-detail",description:()=>t.dataset.itemContent||"",projectName:()=>t.dataset.itemProjectName||"",tags:()=>Array.from(e.querySelectorAll("[data-item-label-name]")).map(t=>t.dataset.itemLabelName).filter(Boolean),buttonType:"minimal"}),o=document.createElement("div");o.classList.add("item_action"),o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.appendChild(n),t.lastChild.before(o)}),togglbutton.render(".task_list_item .task_list_item__actions:not(.toggl)",{observe:!0,observeTarget:o,debounceInterval:300},t=>{if(null!==t.querySelector(".toggl-button"))return;const e=t.closest(".task_list_item"),n=e.querySelector(".task_list_item__content");let o="";const i=e.getAttribute("data-item-id");if(document.querySelector(".project_view h1 span.simple_content"))o=document.querySelector(".project_view h1 span.simple_content").textContent.trim();else if(document.getElementById("item_"+i)){o=function(t){return()=>{let e,n;return $("#filter_inbox.current, #filter_team_inbox.current")?e=["Inbox"]:(n=function(t){let e,n,o,r;const i=t.closest(".project_editor_instance");i&&(e=i.getAttribute("data-project-id"),n=$("#project_list"),!function(t){return t.startsWith("_")}(e)?(o=$("#project_color_"+e,n),o&&(r=o.closest(".menu_clickable"))):r=$(".current",n));return r}(t),e=n?function t(e){const n=$(".name",e).firstChild.textContent.trim();if(function(t){return t.classList.contains("indent_1")}(e))return[n];const o=function(t){const e="indent_"+(t.className.match(/(?:^|\s)indent_(\d*?)(?:\s|$)/)[1]-1);let n=t;for(;n.previousElementSibling&&(n=n.previousElementSibling,!n.classList.contains(e)););return n}(e);return[n].concat(t(o))}(n):[r(t)]),e}}(document.getElementById("item_"+i).querySelector(".content"))}else o=e.querySelector(".task_list_item__project")?e.querySelector(".task_list_item__project").textContent.trim():document.querySelector("[data-project-id] .simple_content")?document.querySelector("[data-project-id] .simple_content").textContent:function(t){if(!t)return"";const e=t.querySelector(".item_detail_parent_info");let n="";e.querySelector("circle, .item_detail_parent_icon__inbox_icon")&&(n=e.querySelector(".item_detail_parent_name").textContent);return n}(t.closest(".item_detail"));const l=togglbutton.createTimerLink({className:"todoist-detail-subtask",description:()=>{const t=n.querySelector(".task_content");return t?t.textContent.trim():""},projectName:o,buttonType:"minimal",tags:()=>[...n.querySelectorAll(".task_list_item__info_tags__label")].map(t=>t.textContent)}),a=document.createElement("div");a.style.display="flex",a.style.marginTop="2px",a.appendChild(l),t.lastChild.before(a)})}});
//# sourceMappingURL=todoist.js.map
(self.webpackChunkextension=self.webpackChunkextension||[]).push([[493],{915:e=>{const t="5";try{t=parseInt(t)}catch(e){}const o=[["dev-integration.","dev"],["","dev"],["devep.","dev"],["go.",""],["us04web.",""],["",""],["devcolo.","dev"],["deva.","dev"],["local.",""],["ds01.","dev"],["us03web.",""],["devb.","dev"]],a={extVersion:"1.8.0",get runEnv(){let e=o[t];return void 0===e?o[5]:e},get envIndex(){return t},errors:["No matching domain found.","zoom_data is not an Object:","Invalid email address or password.","Network error, please try again!","Request timeout, please try again!","Schedule meeting failed. Please try again.","Login failed. Please try again.","Update settings failed!","Unknown error, please refresh page and try again.","Port not exist, please refresh page and try again.","Enter valid domains. Separate multiple domains by semicolon","can't parse the event duration correctly","eid_meeting_map is not an Array:","set eidMeetingMap value is not an Object:","get eidMeetingMap value is not an Object or null:","get eidMeetingMap value is not an Object:","this eid is missing in eidMeetingMap:","Please save or cancel the result of the domians edit before continue.","Select at least 1 region","The password does not meet the requirement","You must select at least 1 option","When schedule a meeting, you must select at least 1 option",'Users in "<span class="domains"></span>" have been blocked from joining meetings and webinars. To unblock them, please go to <a class="setting-url" href="">Settings</a> page in web portal and update "Block users in specific domains from joining meetings and webinars".'],tips:["Enter valid email addresses. Separate multiple domains by semicolon","The setting is locked and cannot be changed. All of your meetings will use this setting.","You are permanently deleting this Zoom meeting. This action cannot be undone.","You have added two Zoom meetings. One of your meetings will be deleted. \n\nA new meeting is automatically created when you add a guest or a room. If you are manually adding a Zoom meeting, you only need to click “Make it a Zoom Meeting” or “Add Conferencing”.","Automatically record meeting ","Record the meeting automatically in the cloud","Please enter a meeting password",'If you want to make changes for your personal meeting, <a href="">change PMI settings</a> here.',"If you change the settings and schedule this meeting, all previously scheduled PMI meetings will use the latest settings.","If no domains specified, any signed-in users can join","You have signed out from Zoom. Please sign in again to use Zoom service.","You have logged in successfully!","Sign in to Zoom with the following specified domains",'"Internal domain restriction" has been removed from the list, after saving this meeting, you cannot select this option again.',"Zoom meeting settings synchronization in progress...","Zoom meeting settings synchronization has been done!","Zoom meeting settings synchronization failed. Please try again later!","Your account plan requires that Waiting Room be on to enhance security your meetings","Your account requires that Passcode be on to enhance security for your meetings","Your account plan requires that Waiting Room be on to enhance security your meetings","Your security settings have been synced from your Zoom web portal","The settings you change here will apply only to this meeting","After scheduling this meeting, the settings you change here will apply to all scheduled meetings with the Personal Meeting ID.",'Several features will be automatically disabled when using end-to-end encryption, including cloud recording and phone/SIP/H.323 dial-in. <a href="https://support.zoom.us/hc/en-us/articles/360048660871" target="_blank" style="margin-left: 12px;">Learn More</a>',"Your encryption key is stored in the cloud.","Your encryption key is stored locally. No one else can obtain the encryption key, not even Zoom.","Only users who have the invite link or passcode can join the meeting","Only users who have the passcode can join the meeting","Only users admitted by the host can join the meeting","The passcode will be embedded in the invite link. Users joining with the invite link will not have to enter the passcode manually.","Waiting Room is selected to enhance security for your meetings","This feature is only available with Zoom client version 5.8.0 or later, and Android client version 5.8.3 or later.","Unable to Schedule a Meeting","Meeting hosting and scheduling capabilities are not allowed for your user account.","You are not signed in. Please sign in to use Zoom service.","Cloud recording has been disabled for your account. Contact your account admin for more information.",'To record the meeting locally, go to <a href="" target="_blank">Settings</a> and enable <strong>Local recording</strong>.',"Cloud recording has been disabled. Contact the meeting host or their account admin for more information."]};e.exports=a},577:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var a=o(467),n=o(559),i=o(915),r=o(812),l=o(507);const s={baseUrl:`https://${i.runEnv[0]}zoom${i.runEnv[1]}.us/`,logUrl:"mimo/log4zm",resetZoomOptions:function(e){s.saveValue("zoom_config_video_host",e.option_video_host),s.saveValue("zoom_config_video_participants",e.option_video_participant),s.saveValue("zoom_config_audio",e.option_audio_type),s.setSecurity(e.security),s.saveValue("zoom_config_jbh",e.option_require_jbh),s.saveValue("zoom_config_joinurl",!!e.option_joinurl),s.saveValue("zoom_config_mute_upon_entry",e.option_mute_upon_entry),s.saveValue("zoom_config_public_cal",e.option_public_cal),s.saveValue("zoom_config_fte",e.option_fte),s.saveValue("zoom_config_schedule_for",e.option_schedulefor_host),s.saveValue("zoom_config_pacindex",e.option_pacindex),s.saveValue("zoom_config_althost",e.alt_hosts||""),s.saveValue("zoom_config_fixed_popup",!!e.option_fixed_popup),s.saveValue("zoom_locale",e._zm_locale),s.saveValue("zoom_config_rectype",e.option_record_type),s.saveValue("zoom_cluster",e._zm_cluster||""),s.saveValue("zm_haid",e._zm_haid||""),s.saveValue("zm_aid",e._zm_aid||""),s.saveValue("zoom_option_require_reg",Boolean(e.option_require_reg)),s.removeValue("zoom_govurl"),s.setAuthentication(e.authenticationV2),delete e.authenticationV2,s.saveValue("meetingPwdSettingsMap",JSON.stringify(e.meetingPwdSettingsMap));let t=e.dcOptions.enableDC;t&&s.setEnableDC(t),s.resetZoomConfigPmi(e),s.saveValue("enable_unmute_all",e.enable_unmute_all),s.setE2ee(e.e2ee),s.setAllowDeny(e.allowDeny),s.setWatermark(e.watermark),s.setAudioWatermark(e.audioWatermark),s.setFocusMode(e.focusMode),s.setAllowAlternativeHostEditPoll(e.allowAlternativeHostEditPoll)},getMeetingFeatures:function(){let e=s.getZoomData();if(e){return n.Z.meetingFeaturesValidity(e.meetingFeatures)}},getPmiFeatures:function(){let e=s.getZoomData();if(e){return n.Z.pmiFeaturesValidity(e.pmiFeatures)}},updateAutoRec:function(e){if("string"===r.type(e)){if(!!s.getValue("zoom_config_pmi"))try{let o=s.getZoomData(),a=!1;if(e){let n=o.pmiFeatures.autoRec.dataOptions;for(var t=0;t<n.length;t++)if(n[t].id===e){a=!0;break}}else a=!0;a&&(o.pmiFeatures.autoRec.childParams.autoRecordingSubSelected.value=e,o.pmiFeatures.autoRec.value=""!==e,s.saveValue("zoom_data",JSON.stringify(o)))}catch(e){}}},setAllowAlternativeHostEditPoll:function(e){e=e||"",s.saveValue("allowAlternativeHostEditPoll",JSON.stringify(e))},getAllowAlternativeHostEditPoll:function(){let e="";try{e=JSON.parse(s.getValue("allowAlternativeHostEditPoll"))}catch(e){}return"object"!==r.type(e)&&(e={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1}},s.setAllowAlternativeHostEditPoll(e)),e},updateAllowAlternativeHostEditPoll:function(e){if("boolean"===r.type(e)){if(!!s.getValue("zoom_config_pmi")){let t=s.getAllowAlternativeHostEditPoll();t.locked||(t.pmi.defaultVal=e,s.setAllowAlternativeHostEditPoll(t))}}},setFocusMode:function(e){e=e||"",s.saveValue("focusMode",JSON.stringify(e))},getFocusMode:function(){let e="";try{e=JSON.parse(s.getValue("focusMode"))}catch(e){}return"object"!==r.type(e)&&(e={support:!1,pmi:{defaultVal:!1}},s.setFocusMode(e)),e},updateFocusMode:function(e){if("boolean"===r.type(e)){if(!!s.getValue("zoom_config_pmi")){let t=s.getFocusMode();t.pmi.defaultVal=e,s.setFocusMode(t)}}},setWatermark:function(e){e=e||"",s.saveValue("watermark",JSON.stringify(e))},getWatermark:function(){let e="";try{e=JSON.parse(s.getValue("watermark"))}catch(e){}return"object"!==r.type(e)&&(e={support:!1,defaultVal:!1,locked:!1},s.setWatermark(e)),e},updateWatermarkDefault:function(e){if("boolean"===r.type(e)){let t=s.getWatermark();t.defaultVal=e,s.setWatermark(t)}},setAudioWatermark:function(e){e=e||"",s.saveValue("audioWatermark",JSON.stringify(e))},getAudioWatermark:function(){let e="";try{e=JSON.parse(s.getValue("audioWatermark"))}catch(e){}return"object"!==r.type(e)&&(e={support:!1,defaultVal:!1,locked:!1},s.setAudioWatermark(e)),e},updateAudioWatermarkDefault:function(e){if("boolean"===r.type(e)){let t=s.getAudioWatermark();t.defaultVal=e,s.setAudioWatermark(t)}},setAllowDeny:function(e){e=e||"",s.saveValue("allowDeny",JSON.stringify(e))},getAllowDeny:function(){let e="";try{e=JSON.parse(s.getValue("allowDeny"))}catch(e){}return"object"!==r.type(e)&&(e=n.Z.getAllowDenyDefault()),e},updateAllowDeny:function(e){if(e){let t=e.defaultVal,o=e.selRegion,a=e.selType;if("boolean"===r.type(t)&&Array.isArray(o)&&"string"===r.type(a)){let e=s.getAllowDeny();!!s.getValue("zoom_config_pmi")&&e.support&&(e.pmi={type:a,defaultVal:t,selectRegion:o},s.setAllowDeny(e))}}},setE2ee:function(e){e=e||"",s.saveValue("e2ee",JSON.stringify(e))},getE2ee:function(){let e={};try{e=JSON.parse(s.getValue("e2ee")),"object"!==r.type(e)&&(e={})}catch(e){}return e},resetZoomConfigPmi:function(e){let t,o,a=e.option_schedulefor_host;if(a){let t=e.assistants;"array"===r.type(t)&&l.each(t,(function(e,t){if(t.id===a)return o=t.roomid,!1}))}else o=e.PMI;t="0"!==o&&e.option_use_pmi,s.saveValue("zoom_config_pmi",t),s.resetShowDisablePmiMsg(e)},resetShowDisablePmiMsg:function(e){if(!e)return;let t=s.getShowDisablePmiMsg();(void 0===t.me||!1===t.me&&"0"!==e.PMI)&&(t.me=!0);let o=e.assistants;"array"===r.type(o)&&l.each(o,(function(e,o){let a=o.id,n=o.roomid;"000-000-000"===n&&(n="0"),(void 0===t[a]||!1===t[a]&&"0"!==n)&&(t[a]=!0)})),s.setShowDisablePmiMsg(t)},setShowDisablePmiMsg:function(e){e=e||"",s.saveValue("showDisablePmiMsg",JSON.stringify(e))},getShowDisablePmiMsg:function(){let e={};try{e=JSON.parse(s.getValue("showDisablePmiMsg")),"object"!==r.type(e)&&(e={})}catch(e){}return e},setEnableDC:function(e){e=e||"",s.saveValue("enableDC",JSON.stringify(e))},getEnableDC:function(){let e="";try{e=JSON.parse(s.getValue("enableDC")),"object"!==r.type(e)&&(e="")}catch(e){}return e},setAuthentication:function(e){e=e||"",s.saveValue("authentication",JSON.stringify(e))},getAuthentication:function(){let e="";try{e=JSON.parse(s.getValue("authentication"))}catch(e){}return"object"!==r.type(e)&&(e={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]}),e},setSecurity:function(e){e=e||"",s.saveValue("security",JSON.stringify(e))},getSecurity:function(){let e="";try{e=JSON.parse(s.getValue("security"))}catch(e){}return"object"!==r.type(e)&&(e={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}}),e},updateSecurity:function(e){if(e){let t=e.pwEnable,o=e.wrEnable,a=e.authEnable;if("boolean"===r.type(t)&&"boolean"===r.type(o)&&"boolean"===r.type(a)){let n=s.getSecurity();if(!!s.getValue("zoom_config_pmi")){if(n.newSecurityEnabled.defaultVal)n.pmi.passcode.default_all=t;else{let e=n.pmi.passcode;e.default_all||e.default_jbh||!t||(e.default_all=!0)}void 0!==e.pwd&&(n.pmi.passcode.value=e.pwd),n.pmi.waitingroom.defaultVal=o,s.setSecurity(n);let i=s.getAuthentication();i.pmi.defaultVal=a,e.updateAuthOptionItem&&(i.pmi.pmiUpdate=e.updateAuthOptionItem),s.setAuthentication(i)}}}},hasZoomRqToken:function(){return!!this.getZoomZakRequestToken()},getZoomZakRequestToken:function(){var e=this.getZoomDataModifiedDate(),t=this.getExpirationTime();if(!e||e&&new Date-e>t)this.clearAllData();else{if(!(2==this.getValue("zoom_auth_type")&&this.getValue("zoom_sso_exp")<2592e3&&this.getZoomSSOValidDate()-new Date<0))return this.getValue("zoom_zak");this.clearAllData()}},getZoomDataModifiedDate:function(){var e=this.getValue("zoom_token_modified_date");if(e)return new Date(parseInt(e,10))},getValue:function(e){var t=localStorage.getItem(e);return null!==t&&(t=this.dataUntrans(t)),"false"!==t&&("true"===t||t)},dataTrans:function(e){if(5!=i.envIndex)return e;let t="";try{let o=this.utf8_to_b64(e),a="",n="";for(let e=0,t=o.length;e<t;e++)e%2==0?a+=o[e]:n+=o[e];let i=Math.floor(7*Math.random())+3;t=r.generateAlphanumeric(i)+this.utf8_to_b64(a+"=#=#"+n)+i}catch(t){a.Z.sendLog({msgType:4,msg:{msg:"dataTrans failed, data: "+e,errorStack:t.stack}})}return t},dataUntrans:function(e){if(5!=i.envIndex)return e;let t=e;try{let o=this.b64_to_utf8(e.substring(parseInt(e[e.length-1]),e.length-1)).split("=#=#"),a=o[0],n=o[1],i="";for(let e=0,t=a.length;e<t;e++)i+=a[e],n[e]&&(i+=n[e]);t=this.b64_to_utf8(i)}catch(t){a.Z.sendLog({msgType:4,msg:{msg:"dataUntrans failed, data: "+e,errorStack:t.stack}})}return t},utf8_to_b64:function(e){return window.btoa(unescape(encodeURIComponent(e)))},b64_to_utf8:function(e){return decodeURIComponent(escape(window.atob(e)))},clearAllData:function(){this.removeGoogleToken(),this.removeZoomData(),this.removeZoomDataModifiedDate(),this.removeValue("zoom_zpk"),this.removeValue("zoom_zak"),this.removeValue("zoom_zpk_exp"),this.removeValue("zoom_zak_exp"),this.removeValue("zoom_sso_exp"),this.removeValue("zoom_govurl"),this.removeValue("zoom_cluster"),this.removeValue("zm_haid"),this.removeValue("zm_aid"),this.removeValue("zoom_eid_meeting_map"),this.removeValue("zoom_config_one_time_pwd"),this.removeValue("zoom_config_jbh_pwd"),this.removeValue("zoom_config_all_pmi_pwd"),this.removeValue("meetingPwdSettingsMap"),this.removeValue("updateAuthOptionItem"),this.removeValue("showDisablePmiMsg"),this.removeValue("enableDC"),this.removeValue("enable_unmute_all"),this.removeValue("zoom_auth_type"),this.removeValue("security"),this.removeValue("extVersion"),this.removeValue("e2ee"),this.removeValue("showSecurityTip"),this.removeValue("authentication")},saveValue:function(e,t){t=this.dataTrans(t),localStorage.setItem(e,t)},removeValue:function(e){localStorage.removeItem(e)},removeGoogleToken:function(){this.removeValue("google_token")},removeZoomData:function(){this.removeValue("zoom_data")},saveZoomDataModifiedDate:function(e){this.saveValue("zoom_token_modified_date",e.getTime())},removeZoomDataModifiedDate:function(){this.removeValue("zoom_token_modified_date")},getZoomSSOValidDate:function(){var e=this.getValue("zoom_sso_login_time");if(e)return new Date(parseInt(e,10))},saveZoomSSOValidDate:function(e){var t=this.getValue("zoom_sso_exp"),o=e.getTime();o+=t?1e3*t:2592e6,this.saveValue("zoom_sso_login_time",o)},removeZoomSSOValidDate:function(){this.removeValue("zoom_sso_login_time")},getExpirationTime:function(){var e=2592e6,t=this.getValue("zoom_zak_exp");return t&&(e=1e3*parseInt(t,10)),e},getUserBaseUrl:function(){var e=this.baseUrl,t=this.getZoomData(),o=this.getValue("zoom_govurl")||"";return o?e=o:t&&t._zm_baseurl&&""!=t._zm_baseurl&&(e=this.replaceComDomain(t._zm_baseurl+"/")),e},getZoomData:function(){let e="";try{e=JSON.parse(this.getValue("zoom_data"))}catch(e){}return e||this.clearAllData(),e},replaceComDomain:function(e){return e},populateZak:function(e){var t=this.getZoomZakRequestToken();t&&l.extend(e,{zak:t})},getZoomHeader:function(){return{"X-Requested-With":"XMLHttpRequest","x-zm-cluster-id":this.getClusterHeader(),"X-Requested-From":"ZOOM-EXTENSION","x-requested-browser":"CHROME","x-zm-haid":this.getHaidHeader(),"x-zm-aid":this.getAidHeader()}},getClusterHeader:function(){return this.getValue("zoom_cluster")||""},getHaidHeader:function(){return this.getValue("zm_haid")||""},getAidHeader:function(){return this.getValue("zm_aid")||""}},u=998!=o.j?s:null},559:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var a=o(467),n=o(812),i=o(507);const r={checkData(e){!function(e){i.inArray(e.option_video_host,["on","off"])<0&&(r.recordZoomDataError(`option_video_host illegal: ${r.convertToString(e.option_video_host)}`),e.option_video_host="on");i.inArray(e.option_video_participant,["on","off"])<0&&(r.recordZoomDataError(`option_video_participant illegal: ${r.convertToString(e.option_video_participant)}`),e.option_video_participant="on");i.inArray(e.option_audio_type,["telephony","voip","both","other"])<0&&(r.recordZoomDataError(`option_audio_type illegal: ${r.convertToString(e.option_audio_type)}`),e.option_audio_type="both");i.inArray(e.option_pmi_jbhpwd,[!0,!1])<0&&(r.recordZoomDataError(`option_pmi_jbhpwd illegal: ${r.convertToString(e.option_pmi_jbhpwd)}`),e.option_pmi_jbhpwd=!1);i.inArray(e.option_require_jbh,[!0,!1])<0&&(r.recordZoomDataError(`option_require_jbh illegal: ${r.convertToString(e.option_require_jbh)}`),e.option_require_jbh=!1);i.inArray(e.option_use_pmi,[!0,!1])<0&&(r.recordZoomDataError(`option_use_pmi illegal: ${r.convertToString(e.option_use_pmi)}`),e.option_use_pmi=!1);i.inArray(e.option_require_pwd,[!0,!1])<0&&(r.recordZoomDataError(`option_require_pwd illegal: ${r.convertToString(e.option_require_pwd)}`),e.option_require_pwd=!1);i.inArray(e.option_pwd_type,["1","2"])<0&&(r.recordZoomDataError(`option_pwd_type illegal: ${r.convertToString(e.option_pwd_type)}`),e.option_pwd_type="1");i.inArray(e.option_joinurl,[!0,!1])<0&&(r.recordZoomDataError(`option_joinurl illegal: ${r.convertToString(e.option_joinurl)}`),e.option_joinurl=!1);i.inArray(e.option_mute_upon_entry,[!0,!1])<0&&(r.recordZoomDataError(`option_mute_upon_entry illegal: ${r.convertToString(e.option_mute_upon_entry)}`),e.option_mute_upon_entry=!1);i.inArray(e.option_waiting_room,[!0,!1])<0&&(r.recordZoomDataError(`option_waiting_room illegal: ${r.convertToString(e.option_waiting_room)}`),e.option_waiting_room=!1);i.inArray(e.option_public_cal,[!0,!1])<0&&(r.recordZoomDataError(`option_public_cal illegal: ${r.convertToString(e.option_public_cal)}`),e.option_public_cal=!1);"object"!==n.type(e.scheduleDefaultLockOption)&&(r.recordZoomDataError(`scheduleDefaultLockOption illegal: ${r.convertToString(e.scheduleDefaultLockOption)}`),e.scheduleDefaultLockOption={});i.inArray(e.option_fte,[!0,!1])<0&&(r.recordZoomDataError(`option_fte illegal: ${r.convertToString(e.option_fte)}`),e.option_fte=!1);if("string"!==n.type(e.option_schedulefor_host))r.recordZoomDataError(`option_schedulefor_host illegal: ${r.convertToString(e.option_schedulefor_host)}`),e.option_schedulefor_host="";else{let t=e.option_schedulefor_host;if(t){let o=e.assistants,a=!1;Array.isArray(o)&&o.length&&i.each(o,(function(e,o){if(o.id==t)return a=!0,!1})),a||(e.option_schedulefor_host="")}}void 0===e.option_pacindex?e.option_pacindex="1":i.inArray(e.option_pacindex,["1","2"])<0&&(r.recordZoomDataError(`option_pacindex illegal: ${r.convertToString(e.option_pacindex)}`),e.option_pacindex="1");i.inArray(e.option_enforce_login,[!0,!1])<0&&(r.recordZoomDataError(`option_enforce_login illegal: ${r.convertToString(e.option_enforce_login)}`),e.option_enforce_login=!1);"string"!==n.type(e.option_domain_info)&&(r.recordZoomDataError(`option_domain_info illegal: ${r.convertToString(e.option_domain_info)}`),e.option_domain_info="");void 0!==e.alt_hosts&&""!==e.alt_hosts&&"array"!==n.type(e.alt_hosts)&&(r.recordZoomDataError(`alt_hosts illegal: ${r.convertToString(e.alt_hosts)}`),e.alt_hosts="");i.inArray(e.option_fixed_popup,[!0,!1])<0&&(r.recordZoomDataError(`option_fixed_popup illegal: ${r.convertToString(e.option_fixed_popup)}`),e.option_fixed_popup=!1);null===e._zm_locale?e._zm_locale="en_US":"string"!==n.type(e._zm_locale)&&(r.recordZoomDataError(`_zm_locale illegal: ${r.convertToString(e._zm_locale)}`),e._zm_locale="en_US");i.inArray(e.option_record_type,[-1,0,1,2])<0&&(r.recordZoomDataError(`option_record_type illegal: ${r.convertToString(e.option_record_type)}`),e.option_record_type=-1);"string"!==n.type(e._zm_cluster)&&(r.recordZoomDataError(`_zm_cluster illegal: ${r.convertToString(e._zm_cluster)}`),e._zm_cluster="");i.inArray(e.option_require_reg,[!0,!1])<0&&(r.recordZoomDataError(`option_require_reg illegal: ${r.convertToString(e.option_require_reg)}`),e.option_require_reg=!1);"string"!==n.type(e.option_pmi_savepwd)&&(r.recordZoomDataError(`option_pmi_savepwd illegal: ${r.convertToString(e.option_pmi_savepwd)}`),e.option_pmi_savepwd="");if("object"!==n.type(e.authenticationV2))r.recordZoomDataError(`authenticationV2 illegal: ${r.convertToString(e.authenticationV2)}`),e.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]};else{if("array"!==n.type(e.authenticationV2.optionLists))r.recordZoomDataError(`authenticationV2.optionLists illegal: ${r.convertToString(e.authenticationV2.optionLists)}`),e.authenticationV2.optionLists=[];else{let o=e.authenticationV2.optionLists;for(var t=o.length-1;t>-1;t--){let a=o[t];"object"!==n.type(a)&&(r.recordZoomDataError(`authenticationV2.optionLists's items illegal: ${r.convertToString(a)}`),e.authenticationV2.optionLists.splice(t,1))}}if("object"!==n.type(e.authenticationV2.pmi))r.recordZoomDataError(`authenticationV2.pmi illegal: ${r.convertToString(e.authenticationV2.pmi)}`),e.authenticationV2.pmi={defaultVal:!1,pmiUpdate:{}};else{let t=e.authenticationV2.pmi;"boolean"!==n.type(t.defaultVal)&&(r.recordZoomDataError(`authenticationV2.pmi.defaultVal illegal: ${r.convertToString(e.authenticationV2.pmi.defaultVal)}`),e.authenticationV2.pmi.defaultVal=!1),"object"!==n.type(t.pmiUpdate)&&(r.recordZoomDataError(`authenticationV2.pmi.pmiUpdate illegal: ${r.convertToString(e.authenticationV2.pmi.pmiUpdate)}`),e.authenticationV2.pmi.pmiUpdate={})}if("object"!==n.type(e.authenticationV2.normal))r.recordZoomDataError(`authenticationV2.normal illegal: ${r.convertToString(e.authenticationV2.normal)}`),e.authenticationV2.normal={defaultVal:!1};else{let t=e.authenticationV2.normal;"boolean"!==n.type(t.defaultVal)&&(r.recordZoomDataError(`authenticationV2.normal.defaultVal illegal: ${r.convertToString(e.authenticationV2.normal.defaultVal)}`),e.authenticationV2.normal.defaultVal=!1)}"boolean"!==n.type(e.authenticationV2.locked)&&(r.recordZoomDataError(`authenticationV2.locked illegal: ${r.convertToString(e.authenticationV2.locked)}`),e.authenticationV2.locked=!1),"boolean"!==n.type(e.authenticationV2.support)&&(r.recordZoomDataError(`authenticationV2.support illegal: ${r.convertToString(e.authenticationV2.support)}`),e.authenticationV2.support=!1),e.authenticationV2.support||(e.authenticationV2={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1,pmiUpdate:{}},optionLists:[]})}if(null===e.meetingPwdSettingsMap)e.meetingPwdSettingsMap="";else if("object"!==n.type(e.meetingPwdSettingsMap))r.recordZoomDataError(`meetingPwdSettingsMap illegal: ${r.convertToString(e.meetingPwdSettingsMap)}`),e.meetingPwdSettingsMap="";else if(i.isEmptyObject(e.meetingPwdSettingsMap))e.meetingPwdSettingsMap="";else{i.each(e.meetingPwdSettingsMap,(function(t,o){"true"===o?e.meetingPwdSettingsMap[t]=!0:"false"!==o&&void 0!==o||(e.meetingPwdSettingsMap[t]=!1)}));try{let t=parseInt(e.meetingPwdSettingsMap.lengthRule);e.meetingPwdSettingsMap.lengthRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.lengthRule=0}try{let t=parseInt(e.meetingPwdSettingsMap.consecutiveRule);e.meetingPwdSettingsMap.consecutiveRule=isNaN(t)?0:t}catch(t){e.meetingPwdSettingsMap.consecutiveRule=0}}if("object"!==n.type(e.dcOptions))r.recordZoomDataError(`dcOptions illegal: ${r.convertToString(e.dcOptions)}`),e.dcOptions={support:!1,locked:!0,options:[]};else{let t=e.dcOptions;if("boolean"!==n.type(t.support)&&(t.support=!1),"boolean"!==n.type(t.locked)&&(t.locked=!1),"string"===n.type(t.enableDC))if(t.enableDC)try{t.enableDC=JSON.parse(t.enableDC),"object"!==n.type(t.enableDC)&&(t.enableDC=void 0)}catch(e){t.enableDC=void 0}else t.enableDC=void 0;else void 0!==t.enableDC&&(t.enableDC=void 0);"array"!==n.type(t.options)&&(t.options=[])}"boolean"!==n.type(e.show_unmute_all)&&(e.show_unmute_all=!1);"boolean"!==n.type(e.enable_unmute_all)&&(e.enable_unmute_all=!1);let o=!1;try{let t=e.security,a=[t.newSecurityEnabled.defaultVal,t.normal.passcode.locked,t.normal.passcode.defaultVal,t.normal.waitingroom.locked,t.normal.waitingroom.defaultVal,t.pmi.passcode.locked,t.pmi.passcode.default_all,t.pmi.passcode.default_jbh,t.pmi.waitingroom.locked,t.pmi.waitingroom.defaultVal,t.security3c1];i.each(a,(function(e,t){"boolean"!==n.type(t)&&(o=!0)})),"string"!==n.type(t.pmi.passcode.value)&&(o=!0)}catch(e){o=!0}o&&(r.recordZoomDataError(`security illegal: ${r.convertToString(e.security)}`),e.security={security3c1:!1,newSecurityEnabled:{defaultVal:!1},normal:{passcode:{locked:!1,defaultVal:!1},waitingroom:{locked:!1,defaultVal:!1}},pmi:{passcode:{locked:!1,default_all:!1,default_jbh:!1,value:""},waitingroom:{locked:!1,defaultVal:!1}}});if("object"!==n.type(e.e2ee))r.recordZoomDataError(`e2ee illegal: ${r.convertToString(e.e2ee)}`),e.e2ee={support:!1,locked:!1,normalEnable:!1,pmiEnable:!1};else{let t=e.e2ee;"boolean"!==n.type(t.support)&&(e.e2ee.support=!1),"boolean"!==n.type(t.locked)&&(e.e2ee.locked=!1),"boolean"!==n.type(t.normalEnable)&&(e.e2ee.normalEnable=!1),"boolean"!==n.type(t.pmiEnable)&&(e.e2ee.pmiEnable=!1)}if("object"!==n.type(e.allowDeny))r.recordZoomDataError(`allowDeny illegal: ${r.convertToString(e.allowDeny)}`),e.allowDeny=r.getAllowDenyDefault();else{let t=e.allowDeny;if("boolean"!==n.type(t.support)&&(e.allowDeny.support=!1),e.allowDeny.support){if("boolean"!==n.type(t.locked)&&(e.allowDeny.locked=!1),Array.isArray(t.regionList)||(e.allowDeny=r.getAllowDenyDefault()),"object"!==n.type(t.defaultRegion)&&(e.allowDeny.defaultRegion={}),"object"!==n.type(t.normal))e.allowDeny.normal={type:"0",defaultVal:!1,selectRegion:[]};else{let t=e.allowDeny.normal;"0"!==t.type&&"1"!==t.type&&(e.allowDeny.normal.type="0"),"boolean"!==n.type(t.defaultVal)&&(e.allowDeny.normal.defaultVal=!1),Array.isArray(t.selectRegion)||(e.allowDeny.normal.selectRegion=[]),e.allowDeny.normal.defaultVal&&!e.allowDeny.normal.selectRegion.length&&(e.allowDeny.normal.defaultVal=!1)}if("object"!==n.type(t.pmi))e.allowDeny.pmi={type:"0",defaultVal:!1,selectRegion:[]};else{let t=e.allowDeny.pmi;"0"!==t.type&&"1"!==t.type&&(e.allowDeny.pmi.type="0"),"boolean"!==n.type(t.defaultVal)&&(e.allowDeny.pmi.defaultVal=!1),Array.isArray(t.selectRegion)||(e.allowDeny.pmi.selectRegion=[]),e.allowDeny.pmi.defaultVal&&!e.allowDeny.pmi.selectRegion.length&&(e.allowDeny.pmi.defaultVal=!1)}}else e.allowDeny=r.getAllowDenyDefault()}if(Array.isArray(e.adminTemplates)){let o=e.adminTemplates;if(o.length)for(t=o.length-1;t>-1;t--){let a=o[t];"object"===n.type(a)&&a.templateId&&a.name||(r.recordZoomDataError(`adminTemplates -> tempData illegal: ${r.convertToString(a)}`),e.adminTemplates.splice(t,1))}}else e.adminTemplates=[];if(Array.isArray(e.blockDomains)){let o=e.blockDomains;if(o.length)for(t=o.length-1;t>-1;t--){let a=o[t];if("string"!==n.type(a))r.recordZoomDataError(`blockDomains -> domain value illegal: ${r.convertToString(a)}`),e.blockDomains.splice(t,1);else{let o=a.trim();o?o!==a&&(e.blockDomains[t]=o):e.blockDomains.splice(t,1)}}}else e.blockDomains=[];if("object"!==n.type(e.allowAlternativeHostEditPoll))r.recordZoomDataError(`allowAlternativeHostEditPoll illegal: ${r.convertToString(e.allowAlternativeHostEditPoll)}`),e.allowAlternativeHostEditPoll={support:!1,locked:!1,normal:{defaultVal:!1},pmi:{defaultVal:!1}};else{let t=e.allowAlternativeHostEditPoll;"boolean"!==n.type(t.support)&&(e.allowAlternativeHostEditPoll.support=!1),"boolean"!==n.type(t.locked)&&(e.allowAlternativeHostEditPoll.locked=!1),"object"!==n.type(t.normal)?e.allowAlternativeHostEditPoll.normal={defaultVal:!1}:"boolean"!==n.type(t.normal.defaultVal)&&(e.allowAlternativeHostEditPoll.normal.defaultVal=!1),"object"!==n.type(t.pmi)?e.allowAlternativeHostEditPoll.pmi={defaultVal:!1}:"boolean"!==n.type(t.pmi.defaultVal)&&(e.allowAlternativeHostEditPoll.pmi.defaultVal=!1)}if("object"!==n.type(e.watermark))r.recordZoomDataError(`watermark illegal: ${r.convertToString(e.watermark)}`),e.watermark={support:!1,defaultVal:!1,locked:!1};else{let t=e.watermark;"boolean"!==n.type(t.support)&&(e.watermark.support=!1),"boolean"!==n.type(t.defaultVal)&&(e.watermark.defaultVal=!1),"boolean"!==n.type(t.locked)&&(e.watermark.locked=!1)}if("object"!==n.type(e.audioWatermark))r.recordZoomDataError(`audioWatermark illegal: ${r.convertToString(e.audioWatermark)}`),e.audioWatermark={support:!1,defaultVal:!1,locked:!1};else{let t=e.audioWatermark;"boolean"!==n.type(t.support)&&(e.audioWatermark.support=!1),"boolean"!==n.type(t.defaultVal)&&(e.audioWatermark.defaultVal=!1),"boolean"!==n.type(t.locked)&&(e.audioWatermark.locked=!1)}let a=null;try{a=parseInt(e.maxAttendee)}catch(e){}"number"!==n.type(a)?e.maxAttendee=1e3:e.maxAttendee=a;if("object"!==n.type(e.focusMode))r.recordZoomDataError(`focusMode illegal: ${r.convertToString(e.focusMode)}`),e.focusMode={support:!1,pmi:{defaultVal:!1}};else{let t=e.focusMode;"boolean"!==n.type(t.support)&&(e.focusMode.support=!1),"object"!==n.type(t.pmi)?e.focusMode.pmi={defaultVal:!1}:"boolean"!==n.type(t.pmi.defaultVal)&&(e.focusMode.pmi.defaultVal=!1)}"boolean"!==n.type(e.no_meeting_license_user)&&(e.no_meeting_license_user=!1);"object"!==n.type(e.meetingFeatures)&&(r.recordZoomDataError(`meetingFeatures illegal: ${r.convertToString(e.meetingFeatures)}`),e.meetingFeatures={});"object"!==n.type(e.pmiFeatures)&&(r.recordZoomDataError(`pmiFeatures illegal: ${r.convertToString(e.pmiFeatures)}`),e.pmiFeatures={});l(e.meetingFeatures),l(e.pmiFeatures)}(e)},recordZoomDataError:function(e,t){t=t||"datamanage -- dataValidity",a.Z.sendLog({msgType:1,msg:{tag:"zoom_data error",msg:e,source:t}})},getAllowDenyDefault:function(){return{support:!1,locked:!1,regionList:[],defaultRegion:{},normal:{type:"0",defaultVal:!1,selectRegion:[]},pmi:{type:"0",defaultVal:!1,selectRegion:[]}}},convertToString:function(e){if(Object.is(e,NaN)||void 0===e)return String(e);{let t="";try{t=JSON.stringify(e)}catch(t){a.Z.sendLog({msgType:4,msg:{msg:"convertToString failed, data: "+e,errorStack:t.stack}})}return t}},meetingFeaturesValidity:function(e){return"object"!==n.type(e)&&(e={}),"object"!==n.type(e.autoRec)&&(e.autoRec=s()),e},pmiFeaturesValidity:function(e){return"object"!==n.type(e)&&(e={}),"object"!==n.type(e.autoRec)&&(e.autoRec=s()),e}};function l(e){if("object"!==n.type(e.autoRec))r.recordZoomDataError(`autoRec illegal: ${r.convertToString(e.autoRec)}`),e.autoRec=s();else{let o=e.autoRec;if("boolean"!==n.type(o.show)&&(o.show=!1),"boolean"!==n.type(o.disabled)&&(o.disabled=!1),"object"!==n.type(o.childParams))o.childParams={autoRecordingSubSelected:{},exceedMaxStorage:{}};else{let e=o.childParams;"object"!==n.type(e.autoRecordingSubSelected)&&(e.autoRecordingSubSelected={}),"object"!==n.type(e.exceedMaxStorage)&&(e.exceedMaxStorage={})}if(Array.isArray(o.dataOptions)){let e=o.dataOptions;if(e.length)for(var t=e.length-1;t>-1;t--)"object"!==n.type(e[t])&&o.dataOptions.splice(t,1)}else o.dataOptions=[]}}function s(){return{show:!1,value:!1,disabled:!1,childParams:{autoRecordingSubSelected:{},exceedMaxStorage:{}},dataOptions:[]}}const u=998!=o.j?r:null},266:(e,t,o)=>{"use strict";o.d(t,{Z:()=>f});o(133);var a=o(812);let n,i,r=["qwertyuiop","asdfghjkl","zxcvbnm","!@#$%^&*()","01234567890"];function l(e,t){let o=this,r=!0,l="",s="";n(e).on("focus",(function(l){l.stopPropagation(),t&&(r&&(r=!1,function(e){let t=e.getBoundingClientRect().width/2;n(".zoom-pwd-auth-pop .pop-arrow").css({left:t+"px"})}(e)),i.length&&a.showDomAnimate(n(".zoom-pwd-auth-pop")),o.checkRules(),_(this))})).on("blur",(function(e){e.stopPropagation(),t&&i.length&&a.closeDomAnimate(n(".zoom-pwd-auth-pop")),o.opt.blurCallback()})).on("input",(function(e){if(t){let{res:e,msg:t,errortype:a}=o.checkRules();e&&o.opt.conformRuleCallback()}s=this.value,1===s.length&&0===l.length&&o.opt.startInputCallback(),l=s})).on("keyup",(function(e){9!=e.keyCode&&16!=e.keyCode&&(this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,""),n("#meetingPwdDescription").text(""),40===e.keyCode&&_(this))})).on("afterpaste",(function(e){this.value=this.value.replace(/[^\w~!@#$%^&*()/\|,\.<>?"';:+\-=\[\]{}]/g,"")}))}function s(){try{let e=new Uint32Array(1);window.crypto.getRandomValues(e);let t=e[0].toString(),o=Math.floor((t.length-1)*parseFloat("0."+t));return parseFloat("0."+t.substring(o))}catch(e){}return Math.random()}function u(e,t,o=!0){let n=!0;return t.lengthRule>0&&(e.length>=t.lengthRule?o&&d("length"):(n=!1,o&&p("length"))),t.alpabetRule&&(!function(e){return/[A-Za-z]/.test(e)}(e)?(n=!1,o&&p("alpabet")):o&&d("alpabet")),t.numberRule&&(!function(e){return/\d/.test(e)}(e)?(n=!1,o&&p("number")):o&&d("number")),t.specialRule&&(!function(e){return/[~!@#$%^&*()/\|,\.<>?"';:_+\-=\[\]{}]/.test(e)}(e)?(n=!1,o&&p("special")):o&&d("special")),t.onlyNumberRule&&(!function(e){if("string"===a.type(e)&&0===e.length)return!0;return/\D/.test(e)}(e)?o&&d("onlyNumber"):(n=!1,o&&p("onlyNumber"))),t.combineRule&&(!function(e){let t=/[A-Z]/;return/[a-z]/.test(e)&&t.test(e)}(e)?(n=!1,o&&p("upperLowerChar")):o&&d("upperLowerChar")),t.consecutiveRule>0&&(c(e,t.consecutiveRule,!0)?(n=!1,o&&p("consecutive")):o&&d("consecutive")),n}function c(e,t,o){o&&(e=e.toLowerCase());let a,n,i,r=e.length;t=parseInt(t);for(let o=0;o<=r-t;o++){a=0,n=0,i=0;for(let r=0;r<t-1;r++){if(e.charCodeAt(o+r)==e.charCodeAt(o+r+1)&&(a++,a==t-1))return!0;if(e.charCodeAt(o+r+1)-e.charCodeAt(o+r)==1&&(n++,n==t-1))return!0;if(e.charCodeAt(o+r)-e.charCodeAt(o+r+1)==1&&(i++,i==t-1))return!0}if(m(e.substring(o,o+t)))return!0}return!1}function m(e){let t=[...e].reverse().join("");for(var o=0;o<r.length;o++){var a=r[o];if(-1!=a.indexOf(e)||-1!=a.indexOf(t))return!0}return!1}function d(e){i&&i.find("."+e).addClass("tick")}function p(e){i&&i.find("."+e).removeClass("tick")}function g(e){let t=[...e];for(var o=t.length-1;o>0;o--){var a=Math.floor(s()*(o+1)),n=t[o];t[o]=t[a],t[a]=n}return t.join("")}function _(e){if(i.length){let t="Password must:";i.find("div").each((function(){let e=n(this);e.hasClass("tick")?t+=e.text()+", met, ":t+=e.text()+", not met, "})),n("#meetingPwdDescription").text(t),n(e).attr("aria-describedby","meetingPwdDescription")}}const f=class{constructor(e){this.opt=Object.assign({},{blurCallback:()=>{},startInputCallback:()=>{},conformRuleCallback:()=>{}},e),this.init()}log(){console.log(this.opt)}init(){n=this.opt.jquery?this.opt.jquery:window.$;let e=this.opt.el,t=this.opt.rule;e&&(this.createMenu(e,t),l.call(this,e,t))}createMenu(e,t){let o=function(e){let t='\n        <div class="zoom-pwd-auth-pop">\n            <div class="pop-arrow"></div>\n            ',o=e.lengthRule>0||e.alpabetRule||e.numberRule||e.specialRule||e.onlyNumberRule||e.combineRule;o&&(t+='<div class="pop-title">Password must:</div>\n                    <div class="auth-list">');e.lengthRule>0&&(t+=`<div class="length">Have at least ${e.lengthRule} characters</div>`);e.alpabetRule&&(t+='<div class="alpabet">Have at least 1 letter (a, b, c...)</div>');e.numberRule&&(t+='<div class="number">Have at least 1 number (1, 2, 3...)</div>');e.specialRule&&(t+='<div class="special">Have at least 1 special character (!, @, #...)</div>');e.onlyNumberRule&&(t+='<div class="onlyNumber">Only allow numeric password</div>');e.combineRule&&(t+='<div class="upperLowerChar">Include both upper case and lower case characters</div>');o&&(t+="</div>");o=e.consecutiveRule>0,o&&(t+='<div class="pop-title">Password must NOT:</div>\n                    <div class="auth-list">');e.consecutiveRule>0&&(t+=`<div class="consecutive">Contain ${e.consecutiveRule} consecutive characters (e.g. "11111", "12345", "abcde", or "qwert")</div>`);o&&(t+="</div>");return t+='\n        </div>\n        <div id="meetingPwdDescription"></div>\n    ',t}(t);n(e).after(o),i=n(".zoom-pwd-auth-pop .auth-list")}checkRules(){let e=this.opt.el,t=this.opt.rule;if(e){let o=n(e).val();if(o=o?o.trim():"",o){if(t){return u(o,t,!0)?{res:!0,msg:""}:{res:!1,msg:"The password does not meet the requirement",errortype:1}}return{res:!0,msg:""}}return u(o,t,!0),{res:!1,msg:"Please enter a meeting password",errortype:2}}return{res:!1,msg:"Password entry box not found",errortype:3}}getPassword(){let e=this.opt.el,t="";return e&&(t=n(e).val(),t&&(t=t.trim())),t}static validityPassword(e,t){return!(!e||!t)&&u(e,t,!1)}static generateMeetingPassword(e,t=1){if(!e){let e="";return e=2===t?this.generateNumLetterPassword(6):this.generateNumberPassword(6),e}let o=Math.max(6,e.lengthRule);if(e.onlyNumberRule)return this.generateNumberPassword(o);{let t=this.genPwdByActionableRule(e,o);if(e.consecutiveRule>0){let a=20;for(;--a>0&&c(t,e.consecutiveRule,!0);)t=a%5==0?this.genPwdByActionableRule(e,o):g(t)}return t}}static generateNumberPassword(e){let t=[];for(let o=0;o<e;o++)t.push(parseInt(10*s(),10));return t.join("")}static generateNumLetterPassword(e){let t="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ",o=[],a=Math.floor(s()*(e-1))+1;for(let n=0;n<e;n++)a>0?(o.push(t.charAt(parseInt(s()*t.length))),a--):o.push(parseInt(10*s()));return g(o.join(""))}static generateComplexPassword(e,t){if(t&&e>0){let o=[];for(let a=0;a<e;a++)o.push(t.charAt(parseInt(s()*t.length)));return o.join("")}return""}static genPwdByActionableRule(e,t){let o=[],a="0123456789";if(o.push(parseInt(10*s(),10)),t--,e.alpabetRule){let e="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ";o.push(e.charAt(parseInt(s()*e.length))),t--,a+=e}if(e.specialRule){let e="!@#$%^&*.?+=";o.push(e.charAt(parseInt(s()*e.length))),t--,a+=e}if(e.combineRule){let n="ABCDEFGHJKLMNPQRSTUVWXYZ";o.push(n.charAt(parseInt(s()*n.length))),t--,n="abcdefghijkmnpqrstuvwxyz",o.push(n.charAt(parseInt(s()*n.length))),t--,e.alpabetRule||(a+="abcdefghijkmnpqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ")}return g(o.join("")+this.generateComplexPassword(t,a))}}},812:e=>{const t={showDomAnimate(e){let t=e.get(0);t&&(e.css({display:"block"}),t.timeout&&(clearTimeout(t.timeout),t.timeout=null),t.timeout=setTimeout((function(){e.addClass("show"),t.timeout=null}),10))},closeDomAnimate(e,t=150){let o=e.get(0);o&&(e.removeClass("show"),o.timeout&&(clearTimeout(o.timeout),o.timeout=null),o.timeout=setTimeout((function(){e.css({display:"none"}),o.timeout=null}),150))},type:e=>Object.prototype.toString.call(e).replace(/(?:^\[object\s(.*?)\]$)/,"$1").toLowerCase(),endWithStr(e,t){if(e&&t&&"string"==this.type(e)&&"string"==this.type(t)){let o=e.length-t.length;return o>=0&&e.lastIndexOf(t)==o}return!1},isURLFormat:e=>/^(?:(?:(?:https?):)?\/\/)(?:\S+(?::\S*)?@)?(?:(?!(?:10|127)(?:\.\d{1,3}){3})(?!(?:169\.254|192\.168)(?:\.\d{1,3}){2})(?!172\.(?:1[6-9]|2\d|3[0-1])(?:\.\d{1,3}){2})(?:[1-9]\d?|1\d\d|2[01]\d|22[0-3])(?:\.(?:1?\d{1,2}|2[0-4]\d|25[0-5])){2}(?:\.(?:[1-9]\d?|1\d\d|2[0-4]\d|25[0-4]))|(?:(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)(?:\.(?:[a-z\u00a1-\uffff0-9]-*)*[a-z\u00a1-\uffff0-9]+)*(?:\.(?:[a-z\u00a1-\uffff]{2,})).?)(?::\d{2,5})?(?:[/?#]\S*)?$/i.test(e),generateAlphanumeric:function(e){let t=[],o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"];for(let a=0;a<e;a++)t.push(o[parseInt(62*Math.random(),10)]);return t.join("")}};e.exports=t},467:(e,t,o)=>{"use strict";o.d(t,{Z:()=>u});var a=o(577),n=o(559),i=o(915),r=o(812),l=o(507);let s={logTimeDelayer:null,logDataArr:[],sendLogDelayTime:1e3*(5==i.envIndex?60:3),sendLog:function(e){if(e&&e.msg){let t="";try{e=JSON.parse(JSON.stringify(e)),s.traverseLog("msg",e.msg,e),t="[chrome extension log] "+n.Z.convertToString(e.msg)}catch(e){}if(!t)return;let o={msgType:e.msgType||0,msg:t,operaType:e.operaType||0};s.logDataArr.push(o),s.logTimeDelayer||(s.logTimeDelayer=setTimeout((function(){try{s.logSender()}catch(e){}s.logTimeDelayer=null}),s.sendLogDelayTime||6e4))}},traverseLog:function(e,t,o){let a=r.type(t);"object"===a||"array"===a?l.each(t,(function(e,o){s.traverseLog(e,o,t)})):s.cleanLog(e,o)},cleanLog:function(e,t){l.inArray(e,["zak","topic","password","mtg_alternative_host"])>-1&&(t[e]="***")},logSender:function(){if(s.logDataArr.length&&a.Z.hasZoomRqToken()){let e=a.Z.getUserBaseUrl()+a.Z.logUrl,t={msgType:0,msg:JSON.stringify(s.logDataArr),operaType:0};a.Z.populateZak(t),s.logDataArr=[],l.ajax({type:"POST",url:e,data:t,timeout:5e3,headers:a.Z.getZoomHeader()})}}};const u=998!=o.j?s:null},351:(e,t,o)=>{"use strict";o.d(t,{Z:()=>p});var a=o(911),n=o(266),i=o(559),r=o(467),l=o(577),s=o(915),u=o(507),c=o(812),m=o(507);let d={baseUrl:`https://${s.runEnv[0]}zoom${s.runEnv[1]}.us/`,loginUrl:"mimo/login",logoutUrl:"mimo/logout",scheduleMeetingUrl:"mimo/schedule",schedulePMIMeetingUrl:"mimo/pmi",schedulePACMeetingUrl:"mimo/schedule_pac",editMeetingUrl:"mimo/editMeeting",deleteMeetingUrl:"mimo/deleteMeeting",validateTokenURL:"mimo/validtoken",saveSettingURL:"mimo/save_setting",validAlternativeHost:"mimo/valid_althost",updateTimeAndTimezoneUrl:"mimo/updateScheduleTimeAndTimezone",saveInviteeUrl:"mimo/save_invitee",logUrl:"mimo/log4zm",checkPwdUrl:"mimo/checkMeetingPassword",instantMeetingUrl:"mimo/instant",ssoCheckUrl:"mimo/ssocheck_v2",remoteCheckPwdCache:[],getOAuthURL:function(){return`https://${s.runEnv[0]}zoom${s.runEnv[1]}.us/mimo/google_signin`},schedulePACMeeting:function(e,t,o){var a=l.Z.getUserBaseUrl()+d.schedulePACMeetingUrl,n=l.Z.getValue("zoom_config_pacindex")||"1";isNaN(parseInt(n,10))&&(n="1");var i={selectedPAC:n,trackfields:e.trackfields};l.Z.populateZak(i),u.ajax({type:"POST",url:a,data:i,timeout:1e4,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(d.saveZoomZakRequestToken(e.result._zm_zak),l.Z.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==l.Z.getValue("zoom_config_joinurl")||!!l.Z.getValue("zoom_config_joinurl")),t(e)):o(e)},error:function(e){o(e)}})},scheduleMeeting:function(e,t,o){d._scheduleMeeting(!0,e,t,o)},encodeHtml:function(e){return"string"!=typeof e?e:e.replace(/"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,(function(e){var t=e.charCodeAt(0),o=["&#"];return t=32==t?160:t,o.push(t),o.push(";"),o.join("")}))},getAllowAlternativeHostEditPollResult:function(e){if("boolean"===c.type(e))return e;let t=l.Z.getAllowAlternativeHostEditPoll(),o=!1;if(t.support){let e=!!l.Z.getValue("zoom_config_pmi");if(o=e?t.pmi.defaultVal:t.normal.defaultVal,o){let t=l.Z.getE2ee(),a=!1;t&&t.support&&(a=e?t.pmiEnable:t.normalEnable,a&&(o=!1))}}return o},getFocusModeResult:function(e){if("boolean"===c.type(e))return e;let t=l.Z.getFocusMode();if(t.support){if(!!l.Z.getValue("zoom_config_pmi"))return t.pmi.defaultVal}return!1},getAutoRecResult:function(e){if("string"===c.type(e))return e;let t;return t=!!l.Z.getValue("zoom_config_pmi")?l.Z.getPmiFeatures().autoRec:l.Z.getMeetingFeatures().autoRec,t.show&&t.childParams.autoRecordingSubSelected.value||""},getAllowDenyResult:function(e){let t=JSON.stringify([]),o=JSON.stringify([]),a=!1;if(e&&"boolean"===c.type(e.defaultVal)&&Array.isArray(e.selRegion))return"0"===e.selType?t=JSON.stringify(e.selRegion||[]):o=JSON.stringify(e.selRegion||[]),a=e.defaultVal,{enable_join_meeting_region:a,white_region_list:t,black_region_list:o};let n=l.Z.getAllowDeny();if(n.support){!!l.Z.getValue("zoom_config_pmi")?(a=n.pmi.defaultVal,"0"===n.pmi.type?t=JSON.stringify(n.pmi.selectRegion||[]):o=JSON.stringify(n.pmi.selectRegion||[])):(a=n.normal.defaultVal,"0"===n.normal.type?t=JSON.stringify(n.normal.selectRegion||[]):o=JSON.stringify(n.normal.selectRegion||[]))}return{enable_join_meeting_region:a,white_region_list:t,black_region_list:o}},getSecurityResult:function(e){if(e&&"boolean"===c.type(e.pwEnable))return{pwEnable:e.pwEnable,wrEnable:e.wrEnable,authEnable:e.authEnable,updateAuthOptionItem:e.updateAuthOptionItem};let t=!!l.Z.getValue("zoom_config_pmi"),o=!!l.Z.getValue("zoom_config_jbh"),a=l.Z.getSecurity(),n=l.Z.getAuthentication();if(!a||!n)return{pwEnable:void 0,wrEnable:void 0,authEnable:void 0,updateAuthOptionItem:void 0};let i=!1,r=!1,s=!1,u=!1,m=!1,p=(n.locked,null);if(t){let e=a.pmi.passcode;i=e.default_jbh?o:e.default_all,r=e.locked,s=a.pmi.waitingroom.defaultVal,u=a.pmi.waitingroom.locked,m=n.pmi.defaultVal,m&&(p=n.pmi.pmiUpdate,"object"===c.type(p)&&Object.keys(p).length||(p=d.getUpdateAuthOptionItemFromData()))}else i=a.normal.passcode.defaultVal,r=a.normal.passcode.locked,s=a.normal.waitingroom.defaultVal,u=a.normal.waitingroom.locked,m=n.normal.defaultVal,m&&(p=d.getUpdateAuthOptionItemFromData());return a.security3c1&&(i||m||s||u||(s=!0)),{pwEnable:i,wrEnable:s,authEnable:m,updateAuthOptionItem:p}},checkNeedPasswordForPopup:function(){let e=!!l.Z.getValue("zoom_config_pmi"),t=!!l.Z.getValue("zoom_config_jbh"),o=l.Z.getSecurity();if(!o)return{inputManualPwd:!1,voidable:!1};let a=!1,n=!1,i=!1,r=!1,s=!1;if(e){let e=o.pmi.passcode;a=e.default_jbh?t:e.default_all,n=e.locked,i=o.pmi.waitingroom.defaultVal,r=o.pmi.waitingroom.locked,s=a}else s=!1;return{inputManualPwd:s,voidable:!1}},editNeedPasswordState:function(e){e=!!e;let t=!!l.Z.getValue("zoom_config_pmi"),o=!1;try{o="true"===l.Z.getZoomData().scheduleDefaultLockOption.password}catch(e){}t?o?l.Z.saveValue("zoom_config_jbh_pwd",e):l.Z.saveValue("zoom_config_all_pmi_pwd",e):l.Z.saveValue("zoom_config_one_time_pwd",e)},_scheduleMeeting:function(e,t,o,a){var i=!!l.Z.getValue("zoom_config_jbh"),m=!!l.Z.getValue("zoom_config_mute_upon_entry"),p=!!l.Z.getValue("zoom_config_public_cal"),g=l.Z.getValue("zoom_config_video_host")||"off",_=l.Z.getValue("zoom_config_video_participants")||"off",f=l.Z.getValue("zoom_config_audio")||"both",h=l.Z.getValue("zoom_config_schedule_for")||"";let y=!!l.Z.getValue("zoom_config_pmi"),v=l.Z.getZoomData(),b=l.Z.getE2ee(),Z=!1;b&&b.support&&(Z=y?b.pmiEnable:b.normalEnable);let w="";try{let e=l.Z.getZoomData().enableJBHPriorStartMeeting;!y&&i&&e&&(w=d.getJbhTimeMinutes())}catch(e){console.log(e)}let{pwEnable:V,wrEnable:S,authEnable:z,updateAuthOptionItem:k}=d.getSecurityResult(t.securityRes);var D="",T=!1,M={};l.Z.populateZak(M);var A=l.Z.getUserBaseUrl()+d.scheduleMeetingUrl;if(V){let e=t.securityRes?t.securityRes.pwd:"";if(e&&""!=e)D=e;else if(!y){let e=v&&v.iSFreeAccount?2:1,t=d.getMeetingPwdSettingsMap();t.enhanceDetectionRule?T=!0:D=n.Z.generateMeetingPassword(t,e)}}if(M.enableAuthentication=!!z,z&&k&&k.id)try{"object"===c.type(k)&&(M.authOptionsJson=JSON.stringify({selectAuthName:k.name,option_enforce_signed_in:parseInt(k.type),selectAuthId:k.id,authDomain:k.domain}),M.option_enforce_signed_in=parseInt(k.type))}catch(e){console.log(e),r.Z.sendLog({msgType:4,msg:{msg:"append authOptionsJson failed",function:"_scheduleMeeting",errorStack:e.stack}})}let j=d.getAllowDenyResult(t.allowDenyRes);M.enable_join_meeting_region=j.enable_join_meeting_region,M.white_region_list=j.white_region_list,M.black_region_list=j.black_region_list,t.templateRes&&t.templateRes.templateId&&"number"===c.type(t.templateRes.templateType)&&t.templateRes.templateType>-1&&(M.templateId=t.templateRes.templateId,M.templateType=t.templateRes.templateType);var P="Zoom Meeting";if(v){var E=v.assistants;h&&E&&E.length>0?u.each(E,(function(e,t){t.id==h&&(P=d.resolveUserName(t.name)+" Zoom Meeting")})):P=d.resolveUserName(v.displayName)+" Zoom Meeting";let e=v.dcOptions,t=d.getDcEnableOptions(e);t&&(M.dcEnableOptions=t)}let O=l.Z.getValue("zoom_config_althost");O&&"string"===c.type(O)&&(M.mtg_alternative_host=O.replace(/,/g,";")),M.enable_alternative_host_edit_poll=d.getAllowAlternativeHostEditPollResult(t.enable_alternative_host_edit_poll),M.focusModeValue=d.getFocusModeResult(t.focusModeValue),M.option_record_id=d.getAutoRecResult(t.record_id),u.extend(M,{ext_version:s.extVersion,topic:P,scheduleTime:t.scheduleTime,option_jbh:i,mute_upon_entry:m,public_cal:p,security_pwd:D,security_wr:S,option_video_host:g,option_video_participants:_,option_schedule_for:h,option_audio_type:f,trackfields:t.trackfields,timezone:t.timezone,jbhTimeMinutes:w,use_pmi:y,enable_unmute_all:!!l.Z.getValue("enable_unmute_all"),backendGeneratePwd:T,option_e2ee:Z}),d._ajaxScheduleMtg(e,A,M,o,a)},_ajaxScheduleMtg:function(e,t,o,a,n){u.ajax({type:"POST",url:t,data:o,async:e,timeout:15e3,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?(e.result&&(d.saveZoomZakRequestToken(e.result._zm_zak),l.Z.saveZoomDataModifiedDate(new Date),e.result.addJoinUrl=null==l.Z.getValue("zoom_config_joinurl")||!!l.Z.getValue("zoom_config_joinurl")),a(e)):201==e.errorCode?(l.Z.clearAllData(),n(e)):3001==e.errorCode?alert(e.errorMessage):3105==e.errorCode||9002==e.errorCode?(n({syncState:1,errorMessage:s.tips[14]}),d.toSyncImmediate().done((function(e){n({syncState:2,errorMessage:s.tips[15]})})).fail((function(){n({syncState:3,errorMessage:s.tips[16]})}))):3113==e.errorCode?(alert(e.errorMessage),n({syncState:1,errorMessage:s.tips[14]}),d.toSyncImmediate().done((function(e){n({syncState:2,errorMessage:s.tips[15],noReviveSchedule:!0})})).fail((function(){n({syncState:3,errorMessage:s.tips[16]})}))):(3068==e.errorCode&&d.editNeedPasswordState(!0),n(e))},error:function(e){let t={};e&&e.statusText&&(t.errorMessage=e.statusText),n(t)}}),r.Z.sendLog({msgType:5,msg:{msg:"Send a schedule meeting request, method name: _ajaxScheduleMtg",parameters:o},operaType:3})},editMeeting:function(e,t,o){e={ext_version:s.extVersion,meetingNumber:e.number,duration:e.duration,scheduleTime:e.startTime,timezone:e.timezone,isRepeat:e.isRepeat,zoomrooms:e.zoomrooms,topic:e.topic,isPrivateEvent:e.isPrivateEvent,zm_eid:e.zm_eid,event_baseid:e.event_baseid||""};l.Z.populateZak(e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.editMeetingUrl,data:e,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):201==e.errorCode||o(e)}}),r.Z.sendLog({msgType:5,msg:{msg:"Send a editMeeting request, method name: editMeeting",parameters:e},operaType:3})},createMeetingMp:function(e,t,o){e={ext_version:s.extVersion,meeting_number:e.number,calendarId:e.calendarId,event_baseid:e.event_baseid||""};l.Z.populateZak(e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+"mimo/crmapping",data:e,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}}),r.Z.sendLog({msgType:5,msg:{msg:"Send a crmapping request, method name: createMeetingMp",parameters:e},operaType:3})},removeMeetingMp:function(e,t,o){e={ext_version:s.extVersion,zm_eid:e.calendarId||"",event_baseid:e.event_baseid||""};l.Z.populateZak(e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.deleteMeetingUrl,data:e,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}}),r.Z.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: removeMeetingMp",parameters:e},operaType:3})},getMeetingMp:function(e,t,o){e={calendarId:e.calendarId};l.Z.populateZak(e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+"mimo/getmapping",data:e,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},deleteMeeting:function(e,t,o){e={ext_version:s.extVersion,number:e.number,zm_eid:e.zm_eid||"",event_baseid:e.event_baseid||""};l.Z.populateZak(e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.deleteMeetingUrl,data:e,timeout:1e4,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status||3001==e.errorCode?t(e):9001==e.errorCode?o({showMsg:e.errorMessage}):o(e)},error:function(e){o(e)}}),r.Z.sendLog({msgType:5,msg:{msg:"Send a delete meeting request, method name: deleteMeeting",parameters:e},operaType:3})},updateMeetingTimeAndTimezone:function(e,t,o){let a={calendarId:e.calendarId,event_baseid:e.event_baseid,scheduleTime:e.startTime,duration:e.duration,timezoneid:e.timezone};l.Z.populateZak(a),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.updateTimeAndTimezoneUrl,data:a,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},saveInvitee:function(e,t,o){let a={meetingNumber:e.meetingNumber,event_baseid:e.event_baseid,attendeeEmails:e.invitee};l.Z.populateZak(a),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.saveInviteeUrl,data:a,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){e.status?t(e):o(e)}})},getZoomSetting:function(){var e={};let t=l.Z.getZoomData()||{};e.zoom_config_schedule_for=l.Z.getValue("zoom_config_schedule_for"),e.zoom_assistants=t.assistants,e.adminTemplates=t.adminTemplates,e.zoom_config_video_host=l.Z.getValue("zoom_config_video_host")||"off",e.zoom_config_video_participants=l.Z.getValue("zoom_config_video_participants")||"off",e.zoom_config_audio=l.Z.getValue("zoom_config_audio")||"both",e.zoom_config_hasOther=!!t.option_has3rd,e.zoom_config_noBoth=!!t.option_noboth,e.zoom_config_jbh=!!l.Z.getValue("zoom_config_jbh"),e.jbhTimeMinutes=d.getJbhTimeMinutes(),e.enableJBHPriorStartMeeting=!!t.enableJBHPriorStartMeeting,e.JBHPriorStartMeetingList=d.getJBHPriorStartMeetingList(),e.zoom_config_mute_upon_entry=!!l.Z.getValue("zoom_config_mute_upon_entry"),e.zoom_config_hasPubCal=!!t.option_haspublic_cal,e.zoom_config_public_cal=!!l.Z.getValue("zoom_config_public_cal"),e.zoom_config_pmi=!!l.Z.getValue("zoom_config_pmi"),e.zoom_config_pmiNum=t.PMI,e.security=l.Z.getSecurity(),e.showSecurityTip=d.getShowSecurityTip(),e.authentication=l.Z.getAuthentication(),e.zoom_support_althost=!(void 0===t.alt_hosts),e.zoom_config_althost=l.Z.getValue("zoom_config_althost"),e.zoom_config_fixed_popup=!!l.Z.getValue("zoom_config_fixed_popup"),e.watermark=l.Z.getWatermark(),e.audioWatermark=l.Z.getAudioWatermark(),e.zoom_config_joinurl=null==l.Z.getValue("zoom_config_joinurl")||!!l.Z.getValue("zoom_config_joinurl"),e.zoom_trackfields=t.trackfields,e.lockOpts=t.lockedoptions,e.host_email=t.email||"",e.option_enable_reg=Boolean(t.option_enable_reg),e.zoom_option_require_reg=Boolean(l.Z.getValue("zoom_option_require_reg"));var o=!1;return t.scheduleDefaultLockOption&&"true"===t.scheduleDefaultLockOption.usePMISchedule_locked&&(o=!0),e.schedulePmiLock=o,e.dcOptions=t.dcOptions,e.enableDC=l.Z.getEnableDC(),e.showDisablePmiMsg=l.Z.getShowDisablePmiMsg(),e.show_unmute_all=t.show_unmute_all,e.enable_unmute_all=!!l.Z.getValue("enable_unmute_all"),e.e2ee=l.Z.getE2ee(),e.embedPasscode=!!t.embedPasscode,e.allowDeny=l.Z.getAllowDeny(),e.blockDomains=t.blockDomains,e.mySettingUrl=d.getMySettingUrl(),e.allowAlternativeHostEditPoll=l.Z.getAllowAlternativeHostEditPoll(),e.maxAttendee=t.maxAttendee,e.focusMode=l.Z.getFocusMode(),e.meetingFeatures=l.Z.getMeetingFeatures(),e.pmiFeatures=l.Z.getPmiFeatures(),e},updateZoomSetting:function(e,t,o){l.Z.saveValue("zoom_config_schedule_for",e.zoom_config_schedule_for),l.Z.saveValue("zoom_config_video_host",e.zoom_config_video_host),l.Z.saveValue("zoom_config_video_participants",e.zoom_config_video_participants),l.Z.saveValue("zoom_config_audio",e.zoom_config_audio),l.Z.saveValue("zoom_config_jbh",e.zoom_config_jbh),l.Z.saveValue("zoom_config_mute_upon_entry",e.mute_upon_entry),l.Z.saveValue("zoom_config_public_cal",e.public_cal),l.Z.saveValue("zoom_config_pmi",e.zoom_config_pmi),l.Z.updateWatermarkDefault(e.zoom_config_watermark),l.Z.updateAudioWatermarkDefault(e.zoom_config_audiomark),e.zoom_config_pacindex=l.Z.getValue("zoom_config_pacindex"),e.jbhTimeMinutes&&(d.setJbhTimeMinutes(e.jbhTimeMinutes),delete e.jbhTimeMinutes),l.Z.saveValue("zoom_config_althost",e.zoom_config_alternativehost),l.Z.saveValue("zoom_config_joinurl",e.zoom_config_joinurl),l.Z.saveValue("zoom_option_require_reg",e.zoom_option_require_reg),e.zoom_config_fixed_popup=l.Z.getValue("zoom_config_fixed_popup"),e.require_reg=e.zoom_option_require_reg,delete e.zoom_option_require_reg,void 0!==e.enableDC&&l.Z.setEnableDC(e.enableDC),e.enableDC=JSON.stringify(l.Z.getEnableDC()),e.showDisablePmiMsg&&(l.Z.setShowDisablePmiMsg(e.showDisablePmiMsg),delete e.showDisablePmiMsg),e.showSecurityTip&&(d.setShowSecurityTip(e.showSecurityTip),delete e.showSecurityTip),l.Z.saveValue("enable_unmute_all",e.enable_unmute_all),e.e2ee&&(l.Z.setE2ee(e.e2ee),e.option_e2ee_normal=e.e2ee.normalEnable,e.option_e2ee_pmi=e.e2ee.pmiEnable,delete e.e2ee),d.saveZoomSetting(e,t,(function(e){}),o)},updateSettingForQucik:function(e,t){let o=d.getLocalStorageZoomOptions();if(e.changepwd&&(l.Z.saveValue("zoom_config_pmi_saved_pwd",e.password),o.pmi_saved_pwd=e.password),e.mandatorypwd){let e=!1;try{e="true"===l.Z.getZoomData().scheduleDefaultLockOption.password}catch(e){}e?(l.Z.saveValue("zoom_config_jbh_pwd",!0),o.option_password=!0):(l.Z.saveValue("zoom_config_all_pmi_pwd",!0),o.option_password4PMI=!0)}d.saveZoomSetting(o,t,(function(e){}),(function(){}))},getLocalStorageZoomOptions:function(){let e=l.Z.getE2ee();return{zoom_config_schedule_for:l.Z.getValue("zoom_config_schedule_for"),zoom_config_pmi:!!l.Z.getValue("zoom_config_pmi"),zoom_config_jbh:!!l.Z.getValue("zoom_config_jbh"),public_cal:!!l.Z.getValue("zoom_config_public_cal"),mute_upon_entry:!!l.Z.getValue("zoom_config_mute_upon_entry"),waiting_room:!!l.Z.getValue("zoom_config_waiting_room"),zoom_config_video_host:l.Z.getValue("zoom_config_video_host")||"off",zoom_config_video_participants:l.Z.getValue("zoom_config_video_participants")||"off",zoom_config_audio:l.Z.getValue("zoom_config_audio")||"both",zoom_config_pacindex:l.Z.getValue("zoom_config_pacindex"),zoom_config_alternativehost:l.Z.getValue("zoom_config_althost"),zoom_config_fixed_popup:!!l.Z.getValue("zoom_config_fixed_popup"),zoom_config_joinurl:null==l.Z.getValue("zoom_config_joinurl")||!!l.Z.getValue("zoom_config_joinurl"),require_reg:!!l.Z.getValue("zoom_option_require_reg"),enableDC:JSON.stringify(l.Z.getEnableDC()),option_e2ee_normal:e.normalEnable,option_e2ee_pmi:e.pmiEnable}},validAlternateHost:function(e,t,o){var a={alternativehost:e};l.Z.populateZak(a),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.validAlternativeHost,data:a,async:!1,timeout:6e3,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){201==e.errorCode?d.popupLogin(!0):t(e)},error:function(e){o(e)}})},checkSyncFoVersionOrTime:function(){return l.Z.hasZoomRqToken()&&l.Z.getValue("extVersion")!=s.extVersion?d.toSyncImmediate():d.toSync()},saveZoomSetting:function(e,t,o,a,n){e.zoom_config_alternativehost=(e.zoom_config_alternativehost||"").replace(/,/g,";");var i={ext_version:s.extVersion};l.Z.populateZak(i),u.extend(i,e),u.ajax({type:"POST",url:l.Z.getUserBaseUrl()+d.saveSettingURL,timeout:1e4,data:i,headers:l.Z.getZoomHeader(),dataType:"json",success:function(e){var n=e.result;e&&e.status?(d.saveZoomZakRequestToken(n._zm_zak),l.Z.saveZoomDataModifiedDate(new Date),l.Z.saveValue("zoom_config_fte",!1),t()):1113==e.errorCode||1114==e.errorCode||1115==e.errorCode?o(e):201==e.errorCode?"function"===c.type(a)&&a():alert(e.errorMessage)},complete:function(){"function"===c.type(n)&&n()}})},govLogin:function(e,t,o,a,n,i,r,s){var u=l.Z.getUserBaseUrl()+d.loginUrl;if(e)return u+="?r_uid=1",void d._termAndlogin(t,o,u,n,r,s);a&&(u=a+"/mimo/login"),d._login(u,n,i,r,s)},login:function(e,t,o,a){d._login(l.Z.getUserBaseUrl()+d.loginUrl,e,t,o,a)},_ssologin:function(e,t,o,a,n){var i=e+"/"+d.loginUrl;e||(i=l.Z.getUserBaseUrl()+d.loginUrl),d._login(i,t,o,a,n)},_login:function(e,t,o,a,n){u.ajax({type:"POST",url:e,data:{snstype:1,accesstoken:t},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==c.type(t))return void i.Z.recordZoomDataError(`${s.errors[1]} ${i.Z.convertToString(t)}`,"common.js--_login");d.saveSyncData(t),a()}else l.Z.clearAllData(),n(e.errorCode)},error:function(){l.Z.clearAllData(),n()}})},_termAndlogin:function(e,t,o,a,n,r){u.ajax({type:"POST",url:o,data:{snstype:1,first_name:e,last_name:t,term:!0,accesstoken:a},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){if(e.status){var t=e.result;if("object"!==c.type(t))return void i.Z.recordZoomDataError(`${s.errors[1]} ${i.Z.convertToString(t)}`,"common.js--_termAndlogin");d.saveSyncData(t),n()}else l.Z.clearAllData(),r()},error:function(){l.Z.clearAllData(),r()}})},signin:function(e,t,o,n){let i=e.email;if(i){const r=new a.Z("SHA-256","TEXT",{encoding:"UTF8"});r.update(i);let s=r.getHash("HEX");u.ajax({type:"POST",timeout:15e3,url:l.Z.getUserBaseUrl()+"signin/route",data:{hemail:s,type:e.type},headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json"}).done((function(a){a.status&&a.result&&u.ajax({type:"POST",timeout:15e3,url:a.result+"/signin?from=extension",data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?t(e.result):214==e.errorCode?e.result&&c.isURLFormat(e.result)?chrome.tabs.create({url:e.result}):o(e.errorMessage):1002==e.errorCode?o():1230==e.errorCode&&e.result&&c.isURLFormat(e.result)?d.signByWeb(e.result):o(e.errorMessage)},complete:function(e,t){n(t)}})})).fail((function(e,t){o(t)}))}},govSignin:function(e,t,o,a,n){l.Z.saveValue("zoom_govurl",t.substring(0,t.indexOf("/signin"))+"/"),u.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status?o(e.result):1002==e.errorCode?a():a(e.errorMessage)},complete:function(e,t){n(t)}})},_signin:function(e,t,o,a,n,i){u.ajax({type:"POST",timeout:15e3,url:t,data:e,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(r){r.status?o(r.result):1002==r.errorCode?a():7301!=r.errorCode||i?a(r.errorMessage):d._signin(e,t,o,a,n,!0)},complete:function(){n()}})},logout:function(e,t){var o=l.Z.getZoomZakRequestToken(),a={};l.Z.populateZak(a),o?u.ajax({type:"POST",timeout:1e4,url:l.Z.getUserBaseUrl()+d.logoutUrl,data:a,headers:l.Z.getZoomHeader(),dataType:"json",success:function(t){l.Z.clearAllData(),e()},error:function(){l.Z.clearAllData(),e()}}):(l.Z.clearAllData(),e())},resolveZoomUrl:function(e){return e},getMeetingWithVideoUrl:function(){return d.resolveZoomUrl(l.Z.getUserBaseUrl()+"start/videomeeting")},getMeetingWithoutVideoUrl:function(){return d.resolveZoomUrl(l.Z.getUserBaseUrl()+"start/webmeeting")},startInstantMeeting:function(e){let t={ext_version:s.extVersion};return l.Z.populateZak(t),u.ajax({type:"POST",timeout:5e3,url:l.Z.getUserBaseUrl()+d.instantMeetingUrl,data:t,headers:l.Z.getZoomHeader(),dataType:"json"}).done((function(t){t.status&&(e?chrome.tabs.create({url:d.getMeetingWithVideoUrl()}):chrome.tabs.create({url:d.getMeetingWithoutVideoUrl()}))}))},getMyMeetingsUrl:function(){return l.Z.getUserBaseUrl()+"profile"},getMySettingUrl:function(){return l.Z.getUserBaseUrl()+"profile/setting"},getAdminTemplateDetailUrl:function(e,t){let o="";return e&&(o+=l.Z.getUserBaseUrl()+`meeting#/template/list?templateId=${e}`),t&&(o+=`&userId=${t}`),o},getMyPMISettingUrl:function(){let e=l.Z.getZoomData();if(e&&e.PMI){let t="";try{t=e.PMI.replace(/\D/g,"")}catch(e){}if(t)return l.Z.getUserBaseUrl()+"meeting/"+t+"/edit"}return""},getGoogleCalendarUrl:function(e){function t(e){return e.toISOString().replace(/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})\.\d+Z/gi,"$1$2$3T$4$5$6Z")}Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this};var o,a,n=new Date;return n.setHours(n.getHours()+1),n.setMinutes(0),o=t(n),n.setHours(n.getHours()+1),a="https://calendar.google.com/calendar/event?action=TEMPLATE",a+="&dates=",a+=o+"/"+t(n),a+="&trp=true",e&&(a+="&zoompmi=true"),l.Z.saveValue("readyToSchedule",!0),a},getReadyToSchedule:function(){let e=!!l.Z.getValue("readyToSchedule");return e&&l.Z.saveValue("readyToSchedule",!1),e},resolveUserName:function(e){return"s"===(e=u.trim(e)).charAt(e.length-1)?e+"'":e+"'s"},saveSyncData:function(e){l.Z.saveValue("extVersion",s.extVersion),i.Z.checkData(e),l.Z.resetZoomOptions(e),l.Z.saveValue("zoom_data",JSON.stringify(e)),l.Z.saveZoomDataModifiedDate(new Date),d.saveZoomZakRequestToken(e._zm_zak),l.Z.saveValue("zoom_zak_exp",e._zm_zak_exp||""),l.Z.saveValue("zoom_locale",e._zm_locale),l.Z.saveValue("zoom_sso_exp",e._zm_sso_exp||"2592000"),d.saveSyncTime(new Date)},getType0ItemInAuth:function(e){for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o&&"0"==o.type)return o}return""},recordDataError:function(e,t){r.Z.sendLog({msgType:1,msg:{tag:"data error",msg:e,source:t}})},getPmiSavedPwd:function(){try{let e=l.Z.getSecurity();return d.pwdDataValidity(e.pmi.passcode.value)}catch(e){}return""},pwdDataValidity:function(e){return e=u.trim(e).slice(0,10)},setShowSecurityTip:function(e){e=e||"",l.Z.saveValue("showSecurityTip2",JSON.stringify(e))},getShowSecurityTip:function(){let e="";try{e=JSON.parse(l.Z.getValue("showSecurityTip2"))}catch(e){}return"object"!==c.type(e)&&(e={type1:!0,type2:!0,type3:!0},d.setShowSecurityTip(e)),e},getMeetingPwdSettingsMap:function(){let e="";try{e=JSON.parse(l.Z.getValue("meetingPwdSettingsMap")),"object"!==c.type(e)&&(e="")}catch(e){}return e},setUpdateAuthOptionItem:function(e){e=e||"",l.Z.saveValue("updateAuthOptionItem",JSON.stringify(e))},getUpdateAuthOptionItem:function(){let e="";try{e=JSON.parse(l.Z.getValue("updateAuthOptionItem")),"object"!==c.type(e)&&(e="")}catch(e){}return e},getUpdateAuthOptionItemFromData:function(){let e=l.Z.getAuthentication().optionLists;if(Array.isArray(e)&&e.length)for(var t=0,o=e.length;t<o;t++){let o=e[t];if(o.defaultVal)return o}return null},saveSyncTime:function(e){l.Z.saveValue("zoom_sync_date",e.getTime())},ssoCheck:function(e,t,o,a,n){l.Z.removeValue("zoom_govurl"),d._ssoCheck(l.Z.getUserBaseUrl()+d.ssoCheckUrl,e,t,o,a,n)},govSsoCheck:function(e,t,o,a,n){d._ssoCheck(e+"/"+d.ssoCheckUrl,t,o,a,n,(function(){}))},_ssoCheck:function(e,t,o,a,n,i){u.ajax({type:"POST",timeout:6e3,url:e,data:t,headers:{"X-Requested-With":"XMLHttpRequest","x-requested-browser":"CHROME","X-Requested-From":"ZOOM-EXTENSION"},dataType:"json",success:function(e){e.status&&e.result&&e.result.ssoVanityUrl?o(e.result.ssoVanityUrl):e.status&&e.result&&e.result.redirectUrl?i(e.result.redirectUrl):a(e)},complete:function(){n()}})},toSync:function(){if(l.Z.hasZoomRqToken()){var e=new Date,t=new Date,o=l.Z.getValue("zoom_sync_date");if(t=o?new Date(parseInt(o,10)):new Date(e.getTime()-1728e5),e-t>=18e5)return d.toSyncImmediate()}return null},toSyncImmediate:function(){let e={ext_version:s.extVersion,snstype:1,accesstoken:""};return l.Z.populateZak(e),u.ajax({type:"POST",timeout:5e3,url:l.Z.getUserBaseUrl()+d.loginUrl,data:e,headers:l.Z.getZoomHeader(),dataType:"json"}).done((function(e){if(e.status){let t=e.result;if("object"!==c.type(t))return void i.Z.recordZoomDataError(`${s.errors[1]} ${i.Z.convertToString(t)}`,"common.js--toSyncImmediate");d.saveSyncData(t)}}))},remoteCheckPassword:function(e){let t=(new Date).getTime();for(var o=d.remoteCheckPwdCache.length-1;o>-1;o--){let a=d.remoteCheckPwdCache[o];if(t-a.time<3e5){if(a.password==e){let e=function(){let e=u.Deferred();return setTimeout((function(){e.resolve(a.data)}),20),e.promise()};return u.when(e())}}else d.remoteCheckPwdCache.splice(o,1)}return d.remoteCheckPasswordCall(e)},remoteCheckPasswordCall:function(e){let t={ext_version:s.extVersion,password:e};return l.Z.populateZak(t),u.ajax({type:"POST",timeout:5e3,url:l.Z.getUserBaseUrl()+d.checkPwdUrl,data:t,headers:l.Z.getZoomHeader(),dataType:"json"}).done((function(t){t.status||(-1==t.errorCode?t.status=!0:3403!=t.errorCode&&(t.errorMessage=s.errors[19])),d.remoteCheckPwdCache.push({password:e,data:t,time:(new Date).getTime()})>10&&d.remoteCheckPwdCache.shift()}))},getEidMeetingMap:function(){let e=JSON.parse(l.Z.getValue("zoom_eid_meeting_map"));return"object"!==c.type(e)&&"null"!==c.type(e)&&d.recordDataError(`${s.errors[14]} ${i.Z.convertToString(e)}`,"common.js -- getEidMeetingMap"),e},setEidMeetingMap:function(e){"object"===c.type(e)?l.Z.saveValue("zoom_eid_meeting_map",JSON.stringify(e)):d.recordDataError(`${s.errors[13]} ${i.Z.convertToString(e)}`,"common.js -- setEidMeetingMap")},checkSyncEidMeetingMap:function(){let e=d.getEidMeetingMap();return!(e&&e.synctime&&new Date-e.synctime<432e5)},converEidMeetingMap:function(e,t,o){let a={synctime:(new Date).getTime()};u.each(e,(function(e,t){t.calendarId&&t.meetingNumber&&(a[t.calendarId]=t.meetingNumber)})),t&&o&&(a[t]=o),d.setEidMeetingMap(a)},saveZoomZakRequestToken:function(e){l.Z.saveValue("zoom_zak",e||"")},getGoogleToken:function(){return l.Z.getValue("google_token")},saveGoogleToken:function(e){l.Z.saveValue("google_token",e)},getJBHPriorStartMeetingList:function(){try{let e=l.Z.getZoomData().scheduleDefaultLockOption,t=JSON.parse(e.JBHPriorStartMeetingList);if("object"===c.type(t))return t}catch(e){}return{5:"5 minutes",10:"10 minutes",15:"15 minutes",0:"Anytime"}},getJbhTimeMinutes:function(){try{let e=l.Z.getZoomData(),t=d.getJBHPriorStartMeetingList();if(!e.lockedoptions||!e.lockedoptions.jbh_locked){let e=l.Z.getValue("jbhTimeMinutes");if(t[e])return e}let o=e.scheduleDefaultLockOption.JBHPriorStartMeeting;if(t[o])return o}catch(e){}return""},setJbhTimeMinutes:function(e){d.getJBHPriorStartMeetingList()[e]?l.Z.saveValue("jbhTimeMinutes",e):console.log("Illegal value of jbhTimeMinutes to be saved.")},getReturnChar:function(){return"Windows"===d.getOS()?"\r\n":"\r"},getOS:function(){var e=navigator.appVersion;return e.indexOf("Win")>=0?"Windows":e.indexOf("Mac")>=0?"Mac":e.indexOf("X11")>=0?"Unix":e.indexOf("Linux")>=0?"Linux":"unknown"},empty:function(){},popupLogin:function(e=!1){let t=parseInt(l.Z.getValue("zoom_login_req_option_tabid")),o=parseInt(l.Z.getValue("zoom_popup_tabpage_tabid"));isNaN(t)||isNaN(o)?d.createPopupPage(e):chrome.tabs.update(o,{active:!0},(function(){chrome.runtime.lastError&&d.createPopupPage(e)}))},createPopupPage:function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:chrome.extension.getURL("popup.html"),active:!0},(function(t){l.Z.saveValue("zoom_login_req_option_tabid",o),l.Z.saveValue("zoom_popup_tabpage_tabid",t.id),l.Z.saveValue("zoom_login_req_need_reload",e)}))}))},signWithGoogle:function(){chrome.tabs.query({active:!0,currentWindow:!0},(function(e){let t=e[0].id;chrome.tabs.create({url:d.getOAuthURL(),active:!0},(function(e){l.Z.saveValue("zoom_login_request_tabid",t),l.Z.saveValue("zoom_oauth_tabid",e.id)}))}))},signByWeb:function(e){chrome.tabs.create({url:e,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),l.Z.saveValue("zoom_oauth_tabid",e.id)}))},ssoSignin:function(e,t){d.ssoCheck({email:e.email,domain:e.domain},(function(e){chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){l.Z.saveValue("zoom_login_request_tabid",o),l.Z.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:s.errors[0]})}),(function(){t({state:3})}),(function(o){checkGovPermission((function(){d.govSsoCheck(o,{email:e.email,domain:e.domain},(function(e){l.Z.saveValue("zoom_govurl",e.substring(0,e.indexOf("/saml/login"))+"/"),chrome.tabs.query({active:!0,currentWindow:!0},(function(t){let o=t[0].id;chrome.tabs.create({url:e,active:!0},(function(e){l.Z.saveValue("zoom_login_request_tabid",o),l.Z.saveValue("zoom_oauth_tabid",e.id)}))}))}),(function(){t({state:2,msg:s.errors[0]})}),(function(){t({state:3})}))}))}))},checkGovPermission:function(e){chrome.permissions.contains({origins:["https://*.zoomgov.com/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getLoginUrl:function(e){var t,o=/https:\/\/([^\/]+)/gi.exec(e);return o&&o.length&&(t=o[0]),t},workemailSignin:function(e,t,o,a,n){l.Z.removeValue("zoom_govurl"),d.signin(e,(function(i){if(i instanceof Object&&i.redirectUrl||i.indexOf(`zoomgov${s.runEnv[1]}.com/signin`)>0)d.checkGovPermission((function(){if(o&&"gov"!==a&&"function"===c.type(n))return void n();let r=i.redirectUrl||i;d.govSignin(e,r,(function(){d.login("","",(function(){t({state:1})}),(function(){t({state:2,msg:s.errors[2]})}))}),(function(e){t({state:3,msg:e||s.errors[2]})}),(function(e){let o="";"error"===e?o=s.errors[3]:"timeout"===e&&(o=s.errors[4]),t({state:3,msg:o})}))}));else if(i.indexOf("/signin")>0){var r=i.substring(0,i.indexOf("/signin"))+"/saml/login?from=extension";chrome.tabs.create({url:r,selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0}),l.Z.saveValue("zoom_oauth_tabid",e.id)}))}else{let o,a=d.getLoginUrl(i);o=a?a+"/"+d.loginUrl:l.Z.getUserBaseUrl()+d.loginUrl;let n=new RegExp(`https?:\\/\\/\\w*\\.?zoom${s.runEnv[1]}\\.com\\.cn\\/?`,"ig").exec(i);n&&n.length&&n[0].indexOf(`zoom${s.runEnv[1]}.com.cn`)>0?d.checkCNPermission((function(){d._signin({email:e.email,password:e.password,captcha:e.captcha,type:100},a+"/signin",(function(){d._login(o,"","",(function(){t({state:1})}),(function(){t({state:2,msg:s.errors[2]})}))}),(function(e){t({state:2,msg:e||s.errors[2]})}),(function(){t({state:3,msg:""})}))})):d._login(o,"","",(function(){t({state:1})}),(function(){t({state:2,msg:s.errors[2]})}))}}),(function(e){t({state:2,msg:e||s.errors[2]})}),(function(e){let o="";"error"===e?o=s.errors[3]:"timeout"===e&&(o=s.errors[4]),t({state:3,msg:o})}))},checkCNPermission:function(e){chrome.permissions.contains({origins:["https://*.zoom.com.cn/"]},(function(t){t?e():chrome.tabs.create({url:chrome.extension.getURL("permission2.html"),selected:!1},(function(e){chrome.tabs.update(e.id,{selected:!0})}))}))},getDcEnableOptions:function(e){let t=l.Z.getEnableDC();if(!!l.Z.getValue("zoom_config_pmi")||!e||!e.support||e.locked||!e.options||!e.options.length||!t)return"";let o=[];return u.each(e.options,(function(e,a){t[a.abbr]&&o.push(a.abbr)})),o.length?JSON.stringify(o):""},getUrlParam:function(e,t){try{if(e&&t){let a=e.split("&");for(var o=0;o<a.length;o++){let e=a[o].split("=");if(e[0]==t)return e[1]}}}catch(e){console.log(e)}return""}};window.addEventListener("error",(e=>{r.Z.sendLog({msgType:1,msg:{msg:e.message,filename:e.filename,lineno:e.lineno,colno:e.colno,stack:e.error?e.error.stack:""}})}),!0),window.jQuery&&m(document).on("ajaxSend",(function(e,t,o){})).on("ajaxComplete",(function(e,t,o){if(200==t.status&&t.responseText)try{let e=JSON.parse(t.responseText);e.status||201!==e.errorCode&&212!==e.errorCode||!d.getUrlParam(o.data,"zak")||l.Z.clearAllData()}catch(e){console.log(e)}}));const p=998!=o.j?d:null}}]);